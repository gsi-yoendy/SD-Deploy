(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1084:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(15),o=a(18),i=a(16),l=a(19),s=a(24),c=a(0),d=a.n(c),p=a(28),u=a(165),m=a(208),g=a(52),f=a(209),v=a(45),y=m.a.Consumer,h=function(e){return d.a.createElement("div",null,e&&d.a.createElement(u.a,{icon:"flag",iconSize:17,color:"#DB3737"}))},E=function(e){var t="1"===e?"#10161A":"#DB3737";return d.a.createElement("div",null,d.a.createElement(u.a,{icon:"phone",iconSize:17,color:t}))},C=Object(g.d)(function(e){return d.a.createElement(y,null,function(t){return t&&d.a.createElement(B.Consumer,null,function(a){return a&&d.a.createElement(p.VCardPanel,{headerText:"".concat(e.intl.formatMessage({id:"delivery.order.review.textDelExcep"})," (").concat(a.total,")"),bodyPadding:"1px",headerTextJustify:"center",headerBackgroundColor:t.headers,headerColor:t.sidebar_text},a.isLoading?d.a.createElement(p.VSpinner,null):d.a.createElement(p.VTable,{cellSelectionType:"ENTIRE_ROW",striped:!0,columns:["flag","accountId","name","orderId","orderStatus","type","productName","orderDate","qty","lastDate","lastDelQty","lastDelDriver"],enableColumnResizing:!0,typeHeightRow:"HALF",widgetsCell:[{column:"flag",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:h}}},{column:"type",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:E}}}],columns_name:{flag:e.intl.formatMessage({id:"delivery.order.review.cmDelSt"}),accountId:e.intl.formatMessage({id:"delivery.order.review.cmAccId"}),orderId:e.intl.formatMessage({id:"delivery.order.review.cmTickNo"}),orderStatus:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_status"})),orderDate:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_date"})),name:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.name"})),productName:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.product"})),qty:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_qty"})),lastDate:e.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),lastDelQty:e.intl.formatMessage({id:"delivery.order.review.cmLastQty"}),type:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_type"})),lastDelDriver:Object(v.upperCase)(e.intl.formatMessage({id:"delivery.order.review.cmLastDriver"}))},columnWidths:[100,100,120,120,120,120,120,120,120,120,120,120],data:e.listExceptions,footer:d.a.createElement(f.a,{currentPage:e.page,onPageChanged:e.onPageChange,pageLimit:e.pageSize,totalRecords:e.totalOrder})}))})})}),b=a(23),D=a(383),x=a(384),O=a(25),S=a(41),w=a(79),M=a.n(w);function j(){var e=Object(s.a)(["\npadding:10px;\ndisplay:flex;\nflex-direction:row;\n"]);return j=function(){return e},e}var _=Object(O.a)(b.Col)(j()),T=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,a.changeDays=function(){var e=a.form.$.dateMayorIgual.value&&M()(a.form.$.dateMayorIgual.value),t=a.form.$.dateMenorIgual.value&&M()(a.form.$.dateMenorIgual.value);if(a.props.onChangeDate(e,t),e&&t){var r=t.diff(e,"days"),n=r&&r>0?r:"";a.form.$.day.onChange(n)}},a.form=new S.FormState({dateMayorIgual:new S.FieldState(a.props.startDate?a.props.startDate.toDate():null),dateMenorIgual:new S.FieldState(a.props.endDate?a.props.endDate.toDate():null),day:new S.FieldState(""),search:new S.FieldState("")}),a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(m.a.Consumer,null,function(t){return t&&d.a.createElement(B.Consumer,null,function(a){return d.a.createElement(d.a.Fragment,null,d.a.createElement(b.Row,null,d.a.createElement(D.e,{lg:8,sm:12},d.a.createElement(p.VDateTimePicker,{onChange:e.changeDays,label:e.props.intl.formatMessage({id:"delivery.order.review.startDate"}),dateType:"DATE",fieldState:e.form.$.dateMayorIgual,id:"idstartDateExceptions"}),d.a.createElement(p.VDateTimePicker,{value:"",label:e.props.intl.formatMessage({id:"delivery.order.review.endDate"}),dateType:"DATE",fieldState:e.form.$.dateMenorIgual,onChange:e.changeDays,id:"idendDateExceptions"}),d.a.createElement(D.g,{type:"text",disabled:!0,id:"iddays",label:e.props.intl.formatMessage({id:"delivery.order.review.days"}),fieldState:e.form.$.day,layer:{inputWidth:8,labelWidth:7}})),d.a.createElement(D.h,{lg:4,sm:12},d.a.createElement("div",{style:{width:213,marginTop:30}},d.a.createElement(p.VInputField,{fieldState:e.form.$.search,placeholder:e.props.intl.formatMessage({id:"delivery.order.review.ticketSearch"}),fill:!0,onChange:e.props.onSearchChange,id:"idsearchexceptions",type:"search",leftIcon:"search"})))),d.a.createElement(b.Row,null,d.a.createElement(_,null,d.a.createElement("div",{style:{width:300}},d.a.createElement(x.a,{hideBtn:!0,height:"200px",headerBgColor:t.headers,headerColor:t.sidebar_text,elementsSelected:a.listStatus,listSelectElements:a.listStatus,headerText:e.props.intl.formatMessage({id:"delivery.order.open.order_status"}),id:"idVEditableExcep",onSelect:function(){},onItemClick:function(t){e.props.onStatusChange(t)}})))))})})}}]),t}(c.Component),I=Object(g.d)(T),P=a(67),k=a(497);function L(){var e=Object(s.a)(["\n  & span.bp3-icon {\n    color: #db3737 !important;\n  }\n"]);return L=function(){return e},e}a(381).a.Consumer;var R,F={marginBottom:5,width:200},$=Object(O.a)(k.b)(L()),z=Object(g.d)(function(e){return d.a.createElement(d.a.Fragment,null,d.a.createElement(b.Row,null,d.a.createElement(b.Col,{sm:12,lg:6,style:{display:"flex"}},d.a.createElement($,{icon:"flag",style:Object(P.a)({},F,{marginLeft:1})},e.intl.formatMessage({id:"delivery.order.review.btnCreateOpen"})),d.a.createElement(k.b,{icon:"tick",style:Object(P.a)({},F,{marginLeft:5})},e.intl.formatMessage({id:"delivery.order.review.btnMarkCancel"}))),d.a.createElement(b.Col,{sm:12,lg:6,style:{display:"flex",flexDirection:"row-reverse"}},d.a.createElement(k.b,{icon:"export",style:Object(P.a)({},F,{marginLeft:1}),onClick:e.onExport},e.intl.formatMessage({id:"delivery.order.review.btn_export_excel"})))))}),N=a(34);function V(){var e=Object(s.a)(["\n  display: flex;\n  justify-content: flex-end;\n"]);return V=function(){return e},e}a.d(t,"DeliveryContext",function(){return B});Object(O.a)(b.Col)(V());var B=d.a.createContext({listStatus:[],total:0,isLoading:!1}),q=Object(N.inject)("delivery_exceptions_store")(R=Object(N.observer)(R=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSearchChange=function(e){a.props.delivery_exceptions_store.searchChange(e)},a.onDates=function(e,t){a.props.delivery_exceptions_store.setDates(e,t)},a.onStatusChange=function(e){var t=e.map(function(e){return e.value});a.props.delivery_exceptions_store.statusChange(t)},a.onExportar=function(){a.props.delivery_exceptions_store.exportExcel()},a}return Object(l.a)(t,e),Object(n.a)(t,[{key:"onPageChange",value:function(e){e.paginationData.currentPage===this.props.delivery_exceptions_store.page&&e.pageLimit===this.props.delivery_exceptions_store.size||(this.props.delivery_exceptions_store.setSize(e.pageLimit),e.paginationData.currentPage>0&&this.props.delivery_exceptions_store.setPage(e.paginationData.currentPage))}},{key:"render",value:function(){var e=this.props.delivery_exceptions_store,t=e.elements,a=e.count,r=e.isLoading,n=e.listStatus,o=e.moqEndDate,i=e.moqStartDate,l=e.size,s=e.page;return d.a.createElement(B.Provider,{value:{listStatus:n,isLoading:r,total:a}},d.a.createElement(b.Row,null,d.a.createElement(b.Col,{xs:12,sm:6},d.a.createElement("div",{style:{margin:5}},d.a.createElement(I,{onSearchChange:this.onSearchChange,endDate:o,startDate:i,onChangeDate:this.onDates,onStatusChange:this.onStatusChange})))),d.a.createElement("div",{style:{margin:5}},d.a.createElement(C,{listExceptions:t,pageSize:l,totalOrder:a,page:s,onPageChange:this.onPageChange.bind(this)})),d.a.createElement("div",{style:{margin:5}},d.a.createElement(z,{onExport:this.onExportar})))}}]),t}(c.Component))||R)||R;t.default=q}}]);
//# sourceMappingURL=3.d6c22284.chunk.js.map