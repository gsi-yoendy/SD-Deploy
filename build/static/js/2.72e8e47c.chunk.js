(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1015:function(e,t,n){"use strict";n.d(t,"n",function(){return x}),n.d(t,"o",function(){return w}),n.d(t,"e",function(){return D}),n.d(t,"h",function(){return T}),n.d(t,"d",function(){return k}),n.d(t,"g",function(){return I}),n.d(t,"a",function(){return L}),n.d(t,"l",function(){return P}),n.d(t,"k",function(){return M}),n.d(t,"i",function(){return A}),n.d(t,"j",function(){return R}),n.d(t,"f",function(){return $}),n.d(t,"b",function(){return V}),n.d(t,"c",function(){return B}),n.d(t,"m",function(){return U});var r=n(31),a=n(25),o=n(24),i=n(32),l=n(102),s=n(1016);function c(){var e=Object(r.a)(["\n  color: black !important;\n  & > span {\n    color: black !important;\n  }\n"]);return c=function(){return e},e}function d(){var e=Object(r.a)(["\n  color: white !important;\n  & > span {\n    color: white !important;\n  }\n"]);return d=function(){return e},e}function u(){var e=Object(r.a)(["\n  height: 46px;\n  margin: 10px 0;\n"]);return u=function(){return e},e}function p(){var e=Object(r.a)(["\n  justify-content: flex-end;\n"]);return p=function(){return e},e}function m(){var e=Object(r.a)(["\n  padding: 8px;\n"]);return m=function(){return e},e}function f(){var e=Object(r.a)(["\n  margin-bottom: 20px;\n"]);return f=function(){return e},e}function h(){var e=Object(r.a)(["\n  & div {\n    width: 100%;\n    padding-left: 1px;\n    padding-top: 3px;\n  }\n  & label {\n    padding-top: 1px;\n    padding-left: 4px;\n    min-width: 20px;\n  }\n  & input {\n    width: 175px !important;\n  }\n"]);return h=function(){return e},e}function y(){var e=Object(r.a)(["\n  & div {\n    width: 100%;\n    padding-left: 1px;\n    padding-top: 3px;\n  }\n  & label {\n    padding-top: 1px;\n    padding-left: 4px;\n    min-width: 80px;\n  }\n"]);return y=function(){return e},e}function g(){var e=Object(r.a)(["\n  & div {\n    width: 100%;\n    padding-left: 5px;\n    padding-top: 3px;\n  }\n  & label {\n    padding-top: 3px;\n    min-width: 65px;\n  }\n"]);return g=function(){return e},e}function v(){var e=Object(r.a)(["\n  padding-left: 0px;\n  & label {\n    margin-left: 14px !important;\n  }\n"]);return v=function(){return e},e}function b(){var e=Object(r.a)(["\n  padding-left: 3px;\n"]);return b=function(){return e},e}function O(){var e=Object(r.a)(["\n  ul {\n    border: none;\n    padding: 0;\n    box-shadow: none;\n    margin: -10px;\n  }\n"]);return O=function(){return e},e}function C(){var e=Object(r.a)(["\n  height: 30px;\n  margin-left: 5px;\n"]);return C=function(){return e},e}function E(){var e=Object(r.a)(["\n  flex-direction: column;\n"]);return E=function(){return e},e}function F(){var e=Object(r.a)(["\n  padding-left: 2px;\n"]);return F=function(){return e},e}function S(){var e=Object(r.a)(["\n  padding-left: 2px;\n"]);return S=function(){return e},e}function j(){var e=Object(r.a)(["\n  justify-content: flex-end;\n"]);return j=function(){return e},e}function _(){var e=Object(r.a)(["\n  display: flex;\n  padding-bottom: 5px;\n"]);return _=function(){return e},e}var x={labelWidth:12,inputWidth:1},w={inputWidth:7},D=Object(a.default)(o.Col)(_()),T=Object(a.default)(D)(j()),k=Object(a.default)(i.VDateTimePicker)(S()),I=Object(a.default)(i.VInputField)(F()),L=(Object(a.default)(D)(E()),Object(a.default)(l.b)(C())),P=(Object(a.default)(s.a)(O()),Object(a.default)(i.VCardPanel)(b())),M=Object(a.default)(i.VCheckboxField)(v()),A=(Object(a.default)(i.VInputField)(g()),Object(a.default)(i.VInputField)(y())),R=Object(a.default)(i.VInputField)(h()),$=Object(a.default)(o.Col)(f()),N=Object(a.default)(o.Row)(m()),V=Object(a.default)(N)(p()),B=Object(a.default)(N)(u()),U=Object(a.default)(l.b)(d());Object(a.default)(l.b)(c())},1016:function(e,t,n){"use strict";var r=n(73),a=n(10),o=n(12),i=n(14),l=n(13),s=n(15),c=n(0),d=n.n(c),u=n(51),p=n(155),m=n(102),f=n(32),h=n(31),y=n(147),g=n(148),v=n(25);function b(){var e=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  svg {\n    fill: "," !important;\n  }\n"]);return b=function(){return e},e}function O(){var e=Object(h.a)(["\n  & {\n    color: white !important;\n  }\n"]);return O=function(){return e},e}function C(){var e=Object(h.a)(["\n  color: black !important;\n  & > span {\n    color: black !important;\n  }\n"]);return C=function(){return e},e}function E(){var e=Object(h.a)(["\n  color: white !important;\n  & > span {\n    color: white !important;\n  }\n"]);return E=function(){return e},e}function F(){var e=Object(h.a)(["\n  ","\n"]);return F=function(){return e},e}function S(){var e=Object(h.a)(["\n  ","\n  margin-bottom: 2px;\n"]);return S=function(){return e},e}var j=Object(v.default)(y.a)(S(),function(e){var t=e.active,n=e.background,r=e.color;return t?"background: ".concat(n,"!important;\n         color: ").concat(r,"!important;"):""}),_=Object(v.default)(g.a)(F(),function(e){var t=e.padding,n=e.height,r=t?"padding: ".concat(t,"!important;"):"",a="height:".concat(n||"150px",";");return"\n        ul {\n          border: none;\n          padding: 0;\n          box-shadow: none;\n          margin: -10px;\n        }\n  \n  ".concat(r," \n          ").concat(a,"\n          overflow:overlay;")}),x=(Object(v.default)(m.b)(E()),Object(v.default)(m.b)(C()),Object(v.default)(f.VSelectField)(O()),v.default.div(b(),function(e){return e.textcolor&&e.textcolor})),w=n(36);n.d(t,"a",function(){return D});var D=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).form=void 0,n.state={listSelected:n.props.elementsSelected.filter(function(e){return e.active}),listItems:n.props.elementsSelected,listSelect:n.props.listSelectElements},n.isActive=function(e){return!!n.state.listSelected.find(function(t){return t.value===e.value})},n.onItemClick=function(e,t){var a,o=n.state.listSelected;a=e?o.filter(function(e){return e.value!==t.value}):o.concat(t),n.setState(Object(r.a)({},n.state,{listSelected:a})),n.props.onItemClick&&n.props.onItemClick(a)},n.onSlectItem=function(e){var t=n.props.listSelectElements.find(function(t){return t.value===e}),a=n.state.listItems,o=[];if(t){var i=n.state.listSelect.filter(function(t){return t.value!==e});a.push(t),n.setState(Object(r.a)({},n.state,{listItems:a,listSelect:i}))}a.map(function(e){o.push(e.value)}),n.props.onSelect(o)},n.onDeleteItem=function(){var e=[],t=[],a=[],o=n.state,i=o.listItems,l=o.listSelected;i.map(function(n){var r=n.value;!!l.find(function(e){return e.value===r})?t.push(n):e.push(n)}),n.setState(Object(r.a)({},n.state,{listItems:e,listSelected:[],listSelect:n.state.listSelect.concat(t)})),e.map(function(e){a.push(e.value)}),n.props.onSelect(a)},n.initForm=function(){var e=new w.FormState({fieldselect:new w.FieldState("")});n.form=e},n.getElevation=function(e){switch(e){case 0:return u.e.ELEVATION_0;case 1:return u.e.ELEVATION_1;case 2:return u.e.ELEVATION_2;case 3:return u.e.ELEVATION_3;case 4:return u.e.ELEVATION_4;default:return u.e.ELEVATION_0}},n.headerCustomComponent=function(e,t){return d.a.createElement(x,{textcolor:"#fff"},d.a.createElement("div",{style:{marginRight:2,marginTop:15}},d.a.createElement(p.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:n.props.toolTipAdd?n.props.toolTipAdd:"Add element"},d.a.createElement(f.VSelectField,{fieldState:n.form.$.fieldselect,id:e.concat(n.props.id),onChange:n.onSlectItem,fill:!0,inline:!0,minimal:!0,options:t,icon:"plus",iconOnly:!0}))),d.a.createElement(p.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:n.props.toolTipAdd?n.props.toolTipDel:"Delete element(s)"},d.a.createElement(m.b,{icon:"minus",minimal:!0,onClick:function(){n.onDeleteItem()}})))},n.initForm(),n}return Object(s.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(r.a)({},this.state,{listSelected:e.elementsSelected.filter(function(e){return e.active}),listItems:e.elementsSelected,listSelect:e.listSelectElements}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.selection,r=t.elevation,a=t.className,o=t.padding,i=t.height,l=t.headerText,s=t.id,c=t.headerColor,u=t.headerBgColor;return d.a.createElement(f.VCardPanel,{headerText:l,bodyPadding:"1px",headerBackgroundColor:u||"#3d3d3d",headerColor:c||"#FFFFFF",headerCustomComponent:this.props.hideBtn?d.a.createElement(d.a.Fragment,null):this.headerCustomComponent(s,this.state.listSelect)},d.a.createElement(_,{className:"".concat(this.getElevation(r||0)," ").concat(a),padding:o,height:i},this.state.listItems.map(function(t){var r=e.isActive(t),a=n&&n.background?n.background:"#BFCCD6",o=n&&n.textColor?n.textColor:"#10161A";return d.a.createElement(j,{key:t.value,active:r,background:a,color:o,text:t.label,onClick:function(){e.onItemClick(r,t)},icon:t.icon})})))}}]),t}(c.Component)},1017:function(e,t,n){e.exports=n(1018)},1018:function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),a=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=a&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(1019),a)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(i){r.regeneratorRuntime=void 0}},1019:function(e,t){!function(t){"use strict";var n,r=Object.prototype,a=r.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",c="object"===typeof e,d=t.regeneratorRuntime;if(d)c&&(e.exports=d);else{(d=t.regeneratorRuntime=c?e.exports:{}).wrap=O;var u="suspendedStart",p="suspendedYield",m="executing",f="completed",h={},y={};y[i]=function(){return this};var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==r&&a.call(v,i)&&(y=v);var b=S.prototype=E.prototype=Object.create(y);F.prototype=b.constructor=S,S.constructor=F,S[s]=F.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===F||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},d.awrap=function(e){return{__await:e}},j(_.prototype),_.prototype[l]=function(){return this},d.AsyncIterator=_,d.async=function(e,t,n,r){var a=new _(O(e,t,n,r));return d.isGeneratorFunction(t)?a:a.next().then(function(e){return e.done?e.value:a.next()})},j(b),b[s]="Generator",b[i]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},d.values=k,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(D),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,a){return l.type="throw",l.arg=e,t.next=r,a&&(t.method="next",t.arg=n),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),c=a.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),D(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;D(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),h}}}function O(e,t,n,r){var a=t&&t.prototype instanceof E?t:E,o=Object.create(a.prototype),i=new T(r||[]);return o._invoke=function(e,t,n){var r=u;return function(a,o){if(r===m)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw o;return I()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=x(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=m;var s=C(e,t,n);if("normal"===s.type){if(r=n.done?f:p,s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}(e,n,i),o}function C(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function E(){}function F(){}function S(){}function j(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function _(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,i){var l=C(e[n],e,r);if("throw"!==l.type){var s=l.arg,c=s.value;return c&&"object"===typeof c&&a.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,i)},function(e){t("throw",e,o,i)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},function(e){return t("throw",e,o,i)})}i(l.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function x(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,x(e,t),"throw"===t.method))return h;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=C(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,h;var o=a.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function D(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:I}}function I(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},1020:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mi\xe9rcoles_jueves_viernes_s\xe1bado".split("_"),weekdaysShort:"dom._lun._mar._mi\xe9._jue._vie._s\xe1b.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s\xe1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma\xf1ana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un d\xeda",dd:"%d d\xedas",M:"un mes",MM:"%d meses",y:"un a\xf1o",yy:"%d a\xf1os"},dayOfMonthOrdinalParse:/\d{1,2}\xba/,ordinal:"%d\xba",week:{dow:1,doy:4}})}(n(65))},1023:function(e,t,n){"use strict";n.r(t);var r=n(10),a=n(12),o=n(14),i=n(13),l=n(15),s=n(0),c=n.n(s),d=n(26),u=n(51),p=n(102),m=n(24),f=n(32),h=n(36),y=n(46),g=n(31),v=n(25);function b(){var e=Object(g.a)(["\n  width: 100% !important;\n  margin: 0px 0px 0px 10px;\n  !important & label {\n    padding-top: 1px;\n    padding-left: 4px;\n    width: 100% !important;\n    display: flex;\n    flex-direction: row-reverse;\n  }\n  & input {\n    width: 100% !important;\n    margin: 0px !important;\n  }\n"]);return b=function(){return e},e}function O(){var e=Object(g.a)(["\n  @media screen and (min-width: 650px) {\n    position: relative;\n    right: 76px;\n  }\n  margin-right: 5px;\n  height: 30px;\n"]);return O=function(){return e},e}function C(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: flex-start;\n"]);return C=function(){return e},e}function E(){var e=Object(g.a)(["\n  color: #ffffff;\n"]);return E=function(){return e},e}var F,S=Object(v.default)(f.VCheckboxField)(E()),j={marginBottom:5,width:200},_=Object(v.default)(m.Col)(C()),x=Object(v.default)(p.b)(O()),w=Object(v.default)(f.VInputField)(b()),D=n(43),T=n(40),k=n(304),I=k.a.Consumer,L=D.a.Consumer,P=Object(d.inject)("urgency_summary_store")(F=Object(d.observer)(F=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.initForm=function(){var e=new h.FormState({select_profile:new h.FieldState(""),chkFilter:new h.FieldState(!0),chkUngeocodedOnly:new h.FieldState(""),fSearch:new h.FieldState(""),startOrderDate:new h.FieldState(""),endOrderDate:new h.FieldState(""),days:new h.FieldState("")});n.form=e},n.headerCustomComponent=function(e){return c.a.createElement("div",{style:{marginRight:20,marginTop:15}},c.a.createElement(I,null,function(t){return t&&c.a.createElement(S,{id:"idchekfield",label:" Filter",alignIndicator:"right",inline:!0,disabled:e,fieldState:n.form.$.chkFilter,onChange:n.props.onChangeFilter})}))},n.state={clearSelection:!1},n.initForm(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.intl,r=t.urgency_summary_store,a=t.selType,o=r.isLoading;return c.a.createElement(L,null,function(t){return t&&c.a.createElement(I,null,function(i){return i&&c.a.createElement(f.VCardPanel,{headerText:"".concat(n.formatMessage({id:"delivery.order.open.title_list_urgency"})),bodyPadding:"0px",headerTextJustify:"center",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerCustomComponent:e.headerCustomComponent(i.isOrdersLoading)},o?c.a.createElement(f.VSpinner,null):c.a.createElement(f.VTable,{columns:["orderType","incomplete","duplicate","unGeo","urgency1","urgency2","urgency3","urgency4","urgency5","total"],data:r.elements,cellSelectionType:a,actionsSelection:{clearSelection:e.state.clearSelection,onSelectionChange:i.listTypeClick},typeHeightRow:"HALF",configColumnsHeader:[{column:"urgency1",textColor:"#FFFFFF",backgroundColor:"#1b242a"},{column:"urgency2",textColor:"#FFFFFF",backgroundColor:"#f24444"},{column:"urgency3",textColor:"#FFFFFF",backgroundColor:"#ffd307"},{column:"urgency4",textColor:"#FFFFFF",backgroundColor:"#20a8a4"},{column:"urgency5",textColor:"#FFFFFF",backgroundColor:"#4bacef"}],columnWidths:[140,120,120],widgetsCell:[{column:"orderType",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:i.renderDeliveryType}}}],columns_name:{orderType:Object(T.upperCase)(n.formatMessage({id:"delivery.order.open.delivery_type"})),unGeo:"UNGEO",incomplete:"INCOMPLETE",duplicate:"DUPLICATES",urgency1:"URGE (1)",urgency2:"URGE (2)",urgency3:"URGE (3)",urgency4:"URGE (4)",total:"TOTAL",urgency5:"URGE (5)"}}))})})}}]),t}(s.Component))||F)||F,M=Object(y.d)(P),A=n(30),R=n(73),$=n(155);function N(){var e=Object(g.a)(["\n  padding: 5px;\n"]);return N=function(){return e},e}var V,B=[],U=c.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:B,dataFee:B,isLoading:!1}),W=Object(v.default)(m.Row)(N()),Q=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.form=new h.FormState({fieldselect:new h.FieldState("")}),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl;return c.a.createElement(U.Consumer,null,function(n){return c.a.createElement(W,null,c.a.createElement(m.Col,{xs:6},c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:t.formatMessage({id:"delivery.order.open.addFees",defaultMessage:"Add Feed"})},c.a.createElement("div",{style:{marginTop:15}},c.a.createElement(f.VSelectField,{fieldState:e.form.$.fieldselect,id:"idfieldselectfee",onChange:n.onSelectFee,fill:!0,inline:!0,minimal:!0,options:n.listFees,icon:"plus",iconOnly:!0})))),c.a.createElement(m.Col,{xs:6},c.a.createElement("div",{style:{marginTop:15}},e.props.element?c.a.createElement($.a,{usePortal:!0,position:"bottom",hoverCloseDelay:0,content:t.formatMessage({id:"delivery.order.open.deleteFees",defaultMessage:"Remove Feed"})},c.a.createElement(p.b,{disabled:!e.props.element,onClick:function(){n.onDelFee(e.props.element)},icon:"trash",fill:!0,minimal:!0})):c.a.createElement(p.b,{disabled:!e.props.element,onClick:function(){n.onDelFee(e.props.element)},icon:"trash",fill:!0,minimal:!0}))))})}}]),t}(s.Component),z=Object(y.d)(Q),Y=D.a.Consumer,H=[],K=c.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:H,dataFee:H,isLoading:!1}),q=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,l=new Array(a),s=0;s<a;s++)l[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={element:null},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(K.Consumer,null,function(t){return t.isLoading?c.a.createElement(f.VSpinner,null):c.a.createElement(Y,null,function(n){return n&&c.a.createElement(f.VCardPanel,{headerTextJustify:"center",headerText:"Aditional Fees",headerBackgroundColor:n.headers,headerColor:"#FFFFFF",height:"275px",bodyPadding:"0",headerCustomComponent:c.a.createElement(z,{element:e.state.element})},c.a.createElement(f.VTable,{tableHeight:"206px",columns:["description","fee","overrideFee"],data:t.dataFee||[],reordering:!0,typeHeightRow:"HALF",columns_name:{description:"Description",overrideFee:"Overview Fee"},cellSelectionType:"ENTIRE_ROW",edit:{editColumn:{columns:["fee","overrideFee"]},onSave:function(e){},invalidDataMessage:function(e){Object(f.showToastNotification)({type:"danger",message:"No se puede guardar porq las siguiente columnas tienen datos invalidos: ".concat(e.join(" , ")),timeout:8e3})},editToolbar:{textSave:"Finish",textCancel:"Cancel",iconCancel:"cross",iconEdit:"edit",iconSave:"share"}},actionsSelection:{onSelectionChange:function(t){e.setState(Object(R.a)({},e.state,{element:t}))}}}))})})}}]),t}(s.Component),G=n(326),J=function(e){var t=Number(e);return!!e&&!Object(T.isFinite)(t)&&"Only number"},Z=function(e){return!e&&"This field is required"},X=function(e){var t=Object(T.uniqWith)(Object(T.cloneDeep)(e),T.isEqual);return Object(T.size)(t)!==Object(T.size)(e)&&"Duplicate"},ee=n(65),te=n.n(ee);function ne(){var e=Object(g.a)(["\n  & label:before {\n    content: '* ';\n    padding-top: 1px;\n    position: relative;\n    bottom: 2px;\n    font-size: 12px;\n    color: #e21a1a;\n    text-align: start;\n  }\n"]);return ne=function(){return e},e}var re,ae,oe,ie,le,se,ce=k.a.Consumer,de=D.a.Consumer,ue=[],pe=Object(v.default)(f.VDateTimePicker)(ne()),me=c.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:ue,dataFee:ue,isLoading:!1}),fe=Object(d.inject)("order_management_store")(V=Object(d.observer)(V=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.initForm=function(){var e=n.props,t=e.orderDetails,r=e.order_management_store,a=e.intl;te.a.locale(a.locale),t.productId&&n.onSelectProduct(t.productId);var o=t.orderDate?te()(t.orderDate).toDate():te()().toDate();n.form=new h.FormState({accountId:new h.FieldState(t.accountId||""),acctId:new h.FieldState(t.acctId||""),fsname:new h.FieldState(t.name||""),fsaddress:new h.FieldState(t.address||""),id:new h.FieldState(t.orderId||""),ordQty:new h.FieldState(t.qty||"").validators(J),ordDate:new h.FieldState(o||"").validators(Z),fscity:new h.FieldState(t.city||""),fsStateProv:new h.FieldState(t.state||""),tankSize:new h.FieldState(t.tanksize||""),productId:new h.FieldState(t.productId||""),orderTypeId:new h.FieldState(t.orderTypeId||""),fillTypeId:new h.FieldState(t.fillTypeId||0===t.fillTypeId?t.fillTypeId.toString():""),fixed:new h.FieldState(""),price:new h.FieldState(t.price||"").validators(J),skipContracts:new h.FieldState(t.skipContracts),remarks:new h.FieldState(t.remarks||""),slipOrder:new h.FieldState(t.slipOrder),orderAdditionalFees:new h.FieldState(r.listDetailsFees).validators(X)})},n.updateForm=function(){var e=n.props.order_management_store;n.form.$.orderAdditionalFees.onChange(e.listDetailsFees)},n.onSubmit=function(e){var t=Object(f.getFormValue)(n.form);n.form.validate().then(function(r){r.hasError?"Duplicate"===n.form.fieldError&&Object(f.showToastNotification)({type:"danger",message:"You have Fees duplicate!",timeout:1600}):e(t,n.props.onSave)})},n.onSelectProduct=function(e){n.props.order_management_store.getFees(e)},n.onCancel=function(e){e.preventDefault(),n.props.onCancel()},n.onAddFee=function(e){n.props.order_management_store.addFee(e)},n.onRemoveFee=function(e){n.props.order_management_store.delFee(e)},n.onEditFee=function(e){},n.initForm(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){this.updateForm()}},{key:"render",value:function(){var e=this,t={labelWidth:4,inputWidth:8,labelOrientation:"end",inputOrientation:"start"},n=this.props,r=n.intl,a=n.order_management_store,o=a.listProducts,i=a.listTypes,l=a.isLoading,s=a.listSelectFees,d=a.listFillTypes,h=a.listDetailsFees;return c.a.createElement(de,null,function(n){return n&&c.a.createElement(ce,null,function(a){return a&&c.a.createElement("div",{style:{padding:5,width:"100%"}},c.a.createElement(m.Row,null,c.a.createElement(m.Col,{sm:6,lg:3},c.a.createElement(f.VCardPanel,{headerText:"Account Information",headerTextJustify:"center",height:"410px",bodyPadding:"5px",headerBackgroundColor:n.headers,headerColor:"#FFFFFF"},c.a.createElement(f.VInputField,{id:"accountId",label:"Account ID:",type:"text",inline:!0,className:l?u.e.SKELETON:"",fill:!0,fieldState:e.form.$.accountId,layer:t,disabled:!0}),c.a.createElement(f.VInputField,{id:"name",label:"Name:",inline:!0,className:l?u.e.SKELETON:"",fill:!0,type:"text",fieldState:e.form.$.fsname,layer:t,disabled:!0}),c.a.createElement(f.VInputField,{id:"address",label:"Address:",inline:!0,className:l?u.e.SKELETON:"",type:"text",fill:!0,layer:t,fieldState:e.form.$.fsaddress,disabled:!0}),c.a.createElement(f.VInputField,{id:"city",label:"City:",inline:!0,className:l?u.e.SKELETON:"",fill:!0,type:"text",layer:t,fieldState:e.form.$.fscity,disabled:!0}),c.a.createElement(f.VInputField,{id:"state",label:"State/Prov:",inline:!0,fill:!0,className:l?u.e.SKELETON:"",layer:t,type:"text",fieldState:e.form.$.fsStateProv,disabled:!0}),c.a.createElement(f.VInputField,{id:"tank",label:"Tank Size:",inline:!0,fill:!0,className:l?u.e.SKELETON:"",layer:t,type:"text",fieldState:e.form.$.tankSize,disabled:!0}),c.a.createElement("div",{className:l?u.e.SKELETON:""},c.a.createElement(f.VSelectField,{label:"Product:",id:"products",onChange:e.onSelectProduct,inline:!0,required:!0,validators:[Z],fieldState:e.form.$.productId,layer:t,fill:!0,options:o})))),c.a.createElement(m.Col,{sm:6,lg:4},c.a.createElement(f.VCardPanel,{headerTextJustify:"center",headerText:"Order Form",bodyPadding:"5px",headerBackgroundColor:n.headers,headerColor:"#FFFFFF"},c.a.createElement(f.VInputField,{id:"orderId",label:"Order ID:",inline:!0,disabled:!0,className:l?u.e.SKELETON:"",type:"text",fill:!0,layer:t,fieldState:e.form.$.id}),c.a.createElement(f.VInputField,{id:"orderQty",label:"Order Qty:",inline:!0,required:!0,className:l?u.e.SKELETON:"",validators:[Z],fill:!0,layer:t,type:"text",fieldState:e.form.$.ordQty}),c.a.createElement(pe,{dateType:"DATE",label:"Order Date",id:"orderDate",className:l?u.e.SKELETON:"",validators:[Z],inline:!0,layer:t,leftIcon:"calendar",fieldState:e.form.$.ordDate}),c.a.createElement("div",{className:l?u.e.SKELETON:""},c.a.createElement(f.VSelectField,{label:"Order Type:",id:"orderType",required:!0,inline:!0,fieldState:e.form.$.orderTypeId,layer:t,validators:[Z],fill:!0,options:i})),c.a.createElement("div",{className:l?u.e.SKELETON:""},c.a.createElement(f.VSelectField,{label:"Order Fill Type:",id:"fillTypeId",inline:!0,required:!0,fieldState:e.form.$.fillTypeId,layer:t,fill:!0,options:d})),c.a.createElement(f.VInputField,{id:"fixed",label:"Fixed Amt/Del:",className:l?u.e.SKELETON:"",inline:!0,fill:!0,layer:t,type:"text",fieldState:e.form.$.fixed}),c.a.createElement(f.VInputField,{id:"price",label:"Price:",className:l?u.e.SKELETON:"",inline:!0,fill:!0,layer:t,type:"text",fieldState:e.form.$.price}),c.a.createElement(f.VCheckboxField,{layer:{labelWidth:4,inputWidth:6,labelOrientation:"end",inputOrientation:"start"},className:l?u.e.SKELETON:"",fieldState:e.form.$.skipContracts,alignIndicator:"right",id:"skipContracts",label:"Skip Contract",inline:!0}))),c.a.createElement(m.Col,{sm:12,lg:5},c.a.createElement(m.Row,null,c.a.createElement(m.Col,{lg:12,sm:6,style:{marginBottom:18}},c.a.createElement(f.VCardPanel,{headerText:"Description",bodyPadding:"5px 5px 5px 5px",headerTextJustify:"center",headerBackgroundColor:n.headers,headerColor:"#FFFFFF"},c.a.createElement(f.VTextAreaField,{fill:!0,layer:{labelWidth:4,inputWidth:8,labelOrientation:"center",inputOrientation:"start"},id:"remarks",label:"Order Description",inline:!0,className:l?u.e.SKELETON:"",fieldState:e.form.$.remarks}))),c.a.createElement(m.Col,{lg:12,sm:6},c.a.createElement(me.Provider,{value:{isLoading:l,onSelectFee:e.onAddFee,listFees:s,onDelFee:e.onRemoveFee,dataFee:h}},c.a.createElement(q,null)))))),c.a.createElement(G.a,null),c.a.createElement(m.Row,{end:"xs",style:{padding:5}},c.a.createElement(m.Col,{xs:!0},c.a.createElement(p.b,{minimal:!0,intent:"none",icon:"tick",onClick:function(){e.onSubmit(a.onSaveOrders)},disabled:l,text:r.formatMessage({id:"setup.location.operator.filter.apply",defaultMessage:"Save order"})}),c.a.createElement(p.b,{minimal:!0,intent:"none",icon:"disable",onClick:e.props.onCancel,text:r.formatMessage({id:"setup.location.operator.form.cancel",defaultMessage:"Cancel"})}))))})})}}]),t}(s.Component))||V)||V,he=Object(y.d)(fe),ye=k.a.Consumer,ge=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSelectRow=function(e){n.props.onSelect(e)},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(ye,null,function(t){return t&&c.a.createElement(f.VTable,{columns:e.props.columns,typeHeightRow:"HALF",striped:!0,enableColumnResizing:!0,cellSelectionType:"ENTIRE_ROW",actionsSelection:{onSelectionChange:e.onSelectRow},widgetsCell:t.renderCustom(e.props.columns),columns_name:{orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmTickNo"}),accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),orderDate:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),geo:e.props.intl.formatMessage({id:"delivery.order.open.cmGeo"}),type:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),name:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),qty:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"}))},data:e.props.orders})})}}]),t}(s.Component),ve=Object(y.d)(ge),be=n(1015),Oe=function(e){return c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:"Close"},c.a.createElement(be.m,{icon:"cross",minimal:!0,onClick:function(){e.action()}}))},Ce=n(223),Ee=n(6),Fe=k.a.Consumer,Se=D.a.Consumer,je=Object(d.inject)("open_orders_store")(re=Object(d.observer)(re=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeDays=function(){n.props.days?n.props.open_orders_store.addFilter({value:n.props.days,field:"numberDate",operator:"EQUALITY"}):n.props.open_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},n.onChangeFilter=function(){n.props.filter&&n.props.open_orders_store.updateFilterType(),n.props.open_orders_store.setFilterByUrgency(n.props.filter)},n.onChangeFilter(),n.onChangeDays(),Object(d.disposeOnUnmount)(Object(A.a)(n),[Object(Ee.reaction)(function(){return n.props.filter},function(){n.onChangeFilter()}),Object(Ee.reaction)(function(){return n.props.days},function(){n.onChangeDays()})]),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"handleOpenDetails",value:function(){this.props.open_orders_store.setOpenDetails(!0)}},{key:"onSelectOpen",value:function(e){this.props.open_orders_store.setElement(e)}},{key:"componentWillUnmount",value:function(){this.props.open_orders_store.resetElement()}},{key:"handleSaveDetails",value:function(){var e=this.props.open_orders_store;e.setOpenDetails(!1),e.getElements()}},{key:"handleCloseDetails",value:function(){this.props.open_orders_store.setOpenDetails(!1)}},{key:"render",value:function(){var e=this,t=this.props.open_orders_store,n=t.isLoading,r=t.isDetailsOpen,a=t.elements,o=t.count,i=t.element;return c.a.createElement(Se,null,function(t){return t&&c.a.createElement(Fe,null,function(l){return l&&c.a.createElement(f.VCardPanel,{headerText:"".concat(e.props.intl.formatMessage({id:"delivery.order.open.title_list_open"})," (").concat(o," of ").concat(l.totalOrders,")"),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center"},n?c.a.createElement(f.VSpinner,null):c.a.createElement(ve,{orders:a,columns:["type","geo","orderId","accountId","name","lastDate","orderDate","qty"],renderCustomerType:l.renderCustomerType,onSelect:e.onSelectOpen.bind(e)}),r&&c.a.createElement(Ce.a,{isOpen:r,canOutsideClickClose:!1,onClose:e.handleCloseDetails.bind(e),style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:e.handleCloseDetails.bind(e)})},c.a.createElement(he,{orderDetails:i,onSave:e.handleSaveDetails.bind(e),onCancel:e.handleCloseDetails.bind(e),nofees:0}))))})})}}]),t}(s.Component))||re)||re,_e=Object(y.d)(je),xe=k.a.Consumer,we=Object(y.d)(function(e){var t=e.orders,n=e.onRowClick;return c.a.createElement(xe,null,function(r){return r&&c.a.createElement(f.VTable,{cellSelectionType:"ENTIRE_ROW",striped:!0,actionsSelection:{onSelectionChange:n},columns:e.columns,widgetsCell:r.renderCustom(e.columns),typeHeightRow:"HALF",enableColumnResizing:!0,columns_name:{orderId:e.intl.formatMessage({id:"delivery.order.review.cmOrdId"}),accountId:e.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),name:Object(T.upperCase)(e.intl.formatMessage({id:"delivery.order.open.name"})),error:e.intl.formatMessage({id:"delivery.order.open.cmError"}),type:Object(T.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_type"})),orderDate:Object(T.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_date"})),qty:Object(T.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_qty"}))},data:t})})}),De=k.a.Consumer,Te=D.a.Consumer,ke=Object(d.inject)("incomplete_orders_store")(ae=Object(d.observer)(ae=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onChangeDays=function(){n.props.days?n.props.incomplete_orders_store.addFilter({value:n.props.days,field:"numberDate",operator:"EQUALITY"}):n.props.incomplete_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},n.onSelectOrder=function(e){e?n.props.incomplete_orders_store.setElement(e):n.props.incomplete_orders_store.resetElement()},n.handleSaveDetails=function(){var e=n.props.incomplete_orders_store;e.setOpenDetails(!1),e.getElements()},n.onChangeFilter=function(){n.props.filter&&n.props.incomplete_orders_store.updateFilterType(),n.props.incomplete_orders_store.setFilterBySummary(n.props.filter)},n.onChangeFilter(),n.onChangeDays(),Object(d.disposeOnUnmount)(Object(A.a)(n),[Object(Ee.reaction)(function(){return n.props.filter},function(){n.onChangeFilter()}),Object(Ee.reaction)(function(){return n.props.days},function(){n.onChangeDays()})]),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.incomplete_orders_store.resetElement(),this.props.incomplete_orders_store.setOpenDetails(!1)}},{key:"render",value:function(){var e=this,t=this.props.incomplete_orders_store,n=t,r=n.elements,a=n.count,o=n.isLoading,i=(n.element,n.openDetails);return c.a.createElement("div",{style:{margin:5}},c.a.createElement(Te,null,function(t){return t&&c.a.createElement(De,null,function(n){return n&&c.a.createElement(f.VCardPanel,{headerText:"Incomplete Orders (".concat(a," of ").concat(n.totalOrders,")"),bodyPadding:"1px",headerTextJustify:"center",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},o?c.a.createElement(f.VSpinner,null):c.a.createElement(we,{orders:r,columns:["orderId","type","error","accountId","name","lastDate","orderDate","qty"],onRowClick:e.onSelectOrder,renderCustomerType:n.renderCustomerType}))})}),i&&c.a.createElement(Ce.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(Te,null,function(n){return n&&c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:n.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:function(){return t.setOpenDetails(!1)}})},c.a.createElement(he,{orderDetails:t.element,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))})))}}]),t}(s.Component))||ae)||ae,Ie=Object(y.d)(ke),Le=n(16),Pe=n(7),Me=(n(42),k.a.Consumer),Ae=function(e){function t(e){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).call(this,e))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.orders,r=t.onRowClick;return c.a.createElement(Me,null,function(t){return t&&c.a.createElement(f.VTable,{cellSelectionType:"ENTIRE_ROW",striped:!0,columns:e.props.columns,enableColumnResizing:!0,actionsSelection:{onSelectionChange:r},typeHeightRow:"HALF",columnWidths:[120,120,120,125],widgetsCell:t.renderCustom(e.props.columns),columns_name:{accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmOrdId"}),orderStatus:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_status"})),colortype:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),orderDate:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),customerName:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),productName:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.product"})),qty:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"})),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),lastDelQty:e.props.intl.formatMessage({id:"delivery.order.review.cmLastQty"}),lastDelDriver:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.review.cmLastDriver"}))},data:n})})}}]),t}(s.Component),Re=Object(y.d)(Ae),$e=k.a.Consumer,Ne=D.a.Consumer,Ve=Object(d.inject)("router","duplicate_orders_store")(oe=Object(d.observer)((ie=function(e){function t(e){var n;return Object(r.a)(this,t),n=Object(o.a)(this,Object(i.a)(t).call(this,e)),Object(Le.a)(n,"activeDrop",le,Object(A.a)(n)),n.onChangeDays=function(){n.props.days?n.props.duplicate_orders_store.addFilter({value:n.props.days,field:"numberDate",operator:"EQUALITY"}):n.props.duplicate_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},n.onSelectOrder=function(e){n.props.duplicate_orders_store.setElement(e)},n.loadOrders=function(){n.props.duplicate_orders_store.getElements()},n.handleSaveDetails=function(){var e=n.props.duplicate_orders_store;e.setOpenDetails(!1),e.getElements()},n.onChangeFilter=function(){n.props.filter&&n.props.duplicate_orders_store.updateFilterType(),n.props.duplicate_orders_store.setFilterBySummary(n.props.filter)},n.props.router.search.hasOwnProperty("drop")?n.activeDrop="duplicate"===n.props.router.search.drop:n.activeDrop=!1,n.onChangeFilter(),n.onChangeDays(),Object(d.disposeOnUnmount)(Object(A.a)(n),[Object(Ee.reaction)(function(){return n.props.filter},function(){n.onChangeFilter()}),Object(Ee.reaction)(function(){return n.props.days},function(){n.onChangeDays()})]),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.duplicate_orders_store.resetElement(),this.props.duplicate_orders_store.setOpenDetails(!1)}},{key:"render",value:function(){var e=this,t=this.props.duplicate_orders_store,n=t,r=n.elements,a=n.count,o=n.isLoading,i=(n.element,n.openDetails);return c.a.createElement(Ne,null,function(n){return n&&c.a.createElement($e,null,function(l){return l&&c.a.createElement(c.a.Fragment,null,c.a.createElement(f.VCardPanel,{headerText:"Duplicate Orders: (".concat(a," of ").concat(l.totalOrders,")"),bodyPadding:"1px",headerTextJustify:"center",headerBackgroundColor:n.headers,headerColor:"#FFFFFF",defaultActive:e.activeDrop},o?c.a.createElement(f.VSpinner,null):c.a.createElement(Re,{columns:["accountId","name","orderId","orderStatus","type","productName","orderDate","qty","lastDate","lastDelQty","lastDelDriver"],renderCustomerType:l.renderCustomerType,orders:r,onRowClick:e.onSelectOrder})),i&&c.a.createElement(Ce.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:n.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:function(){return t.setOpenDetails(!1)}})},c.a.createElement(he,{orderDetails:t.element,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))))})})}}]),t}(s.Component),le=Object(Pe.a)(ie.prototype,"activeDrop",[Ee.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=ie))||oe)||oe,Be=Object(y.d)(Ve),Ue=k.a.Consumer,We=D.a.Consumer,Qe=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSelectRow=function(e){n.props.onSelect(e)},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.noungeoorders,r=t.noorders,a=t.orders,o=t.isLoading,i=t.intl;return c.a.createElement(We,null,function(t){return t&&c.a.createElement(f.VCardPanel,{headerText:"".concat(i.formatMessage({id:"delivery.order.open.title_list_ungeo"})," (").concat(n," of ").concat(r,")"),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center"},o?c.a.createElement(f.VSpinner,null):c.a.createElement(Ue,null,function(t){return t&&c.a.createElement(f.VTable,{columns:e.props.columns,typeHeightRow:"HALF",striped:!0,enableColumnResizing:!0,cellSelectionType:"ENTIRE_ROW",actionsSelection:{onSelectionChange:e.onSelectRow},widgetsCell:t.renderCustom(e.props.columns),columns_name:{orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmTickNo"}),accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),orderDate:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),geo:e.props.intl.formatMessage({id:"delivery.order.open.cmGeo"}),type:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),name:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),qty:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"}))},data:a})}))})}}]),t}(s.Component),ze=Object(y.d)(Qe),Ye=D.a.Consumer,He=k.a.Consumer,Ke=Object(d.inject)("ungeo_store")(se=Object(d.observer)(se=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onSelectOrder=function(e){e?n.props.ungeo_store.setElement(e):n.props.ungeo_store.resetElement()},n.onChangeDays=function(){n.props.days?n.props.ungeo_store.addFilter({value:n.props.days,field:"numberDate",operator:"EQUALITY"}):n.props.ungeo_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},n.handleSaveDetails=function(){var e=n.props.ungeo_store;e.setOpenDetails(!1),e.getElements()},n.onChangeFilter=function(){n.props.filter&&n.props.ungeo_store.updateFilterType(),n.props.ungeo_store.setFilterBySummary(n.props.filter)},n.onChangeFilter(),n.onChangeDays(),Object(d.disposeOnUnmount)(Object(A.a)(n),[Object(Ee.reaction)(function(){return n.props.filter},function(){n.onChangeFilter()}),Object(Ee.reaction)(function(){return n.props.days},function(){n.onChangeDays()})]),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.ungeo_store.resetElement(),this.props.ungeo_store.setOpenDetails(!1)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.ungeo_store,n=t,r=n.elements,a=n.count,o=n.isLoading,i=n.openDetails;return c.a.createElement(Ye,null,function(n){return n&&c.a.createElement("div",{style:{margin:5}},c.a.createElement(He,null,function(t){return t&&c.a.createElement(ze,{columns:["type","geo","orderId","accountId","name","lastDate","orderDate","qty"],orders:r,onSelect:function(n){e.onSelectOrder(n),t.onSelectOrders(n)},noorders:t.totalOrders,noungeoorders:a,isLoading:o})}),i&&c.a.createElement(Ce.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:n.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:function(){return t.setOpenDetails(!1)}})},c.a.createElement(he,{orderDetails:t.element,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))))})}}]),t}(s.Component))||se)||se,qe=Object(y.d)(Ke),Ge=function(e){var t=e.activeList,n=e.filterByUrgency,r=e.searchDays;switch(t){case"open":case"total":return c.a.createElement(_e,{filter:n,days:r});case"incomplete":return c.a.createElement(Ie,{filter:n,days:r});case"duplicate":return c.a.createElement(Be,{filter:n,days:r});case"ungeo":return c.a.createElement(qe,{filter:n,days:r});default:return c.a.createElement(c.a.Fragment,null)}},Je=k.a.Consumer,Ze=Object(y.d)(function(e){var t=new h.FormState({days:new h.FieldState(e.searchDays)});return c.a.createElement(Je,null,function(n){return n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(_,{lg:7,xs:12},c.a.createElement(w,{onChange:function(e){n.onSearchByDays(e)},type:"text",inline:!0,validators:[J],id:"iddays",label:"Show Pending Open Order with Recent Delivery (Days):",fieldState:t.$.days,layer:{inputWidth:2,labelWidth:8}}),c.a.createElement(x,{icon:"tick",onClick:n.refresOrder,disabled:e.isLoading},e.intl.formatMessage({id:"delivery.order.open.btn_go"}))),c.a.createElement(m.Col,{lg:5,xs:12,style:{display:"flex",flexDirection:"row-reverse"}},c.a.createElement(p.b,{icon:"export",style:Object(R.a)({},j,{marginRight:5}),onClick:n.onExportExcel,disabled:n.isOrdersLoading||n.isOrderMLoading},e.intl.formatMessage({id:"delivery.order.review.btn_export_excel"})),c.a.createElement(p.b,{icon:"refresh",style:Object(R.a)({},j,{marginRight:5}),onClick:n.refreshList,disabled:n.isOrdersLoading||n.isOrderMLoading},e.intl.formatMessage({id:"delivery.order.open.btn_refresh"}))))})}),Xe=n(1017),et=n.n(Xe);function tt(e,t,n,r,a,o,i){try{var l=e[o](i),s=l.value}catch(c){return void n(c)}l.done?t(s):Promise.resolve(s).then(r,a)}var nt,rt,at=n(1016),ot=(n(1020),D.a.Consumer),it=Object(d.observer)(nt=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.state={newProfile:!1,products:[],zones:[],urgencies:[],orderTypes:[],endDate:null,endOrderQuantity:null,startDate:null,startOrderQuantity:null,startTankPercent:null,endTankPercent:null,showReturnedOrders:!1,showUnGeocodeOrders:!1,excludeCreditHolds:!1,showOpenOrders:!1,excludeBalances:!1,showMarkedOrders:!1},n.initForm=function(){n.form=new h.FormState({startOrderQuantity:new h.FieldState(n.state.startOrderQuantity).validators(J),endOrderQuantity:new h.FieldState(n.state.endOrderQuantity).validators(J),showReturnedOrders:new h.FieldState(n.state.showReturnedOrders),showMarkedOrders:new h.FieldState(n.state.showMarkedOrders),showOpenOrders:new h.FieldState(n.state.showOpenOrders),startTankPercent:new h.FieldState(n.state.startTankPercent).validators(J),endTankPercent:new h.FieldState(n.state.endTankPercent).validators(J),excludeBalances:new h.FieldState(n.state.excludeBalances),excludeCreditHolds:new h.FieldState(n.state.excludeCreditHolds),showUnGeocodeOrders:new h.FieldState(n.state.showUnGeocodeOrders),profileId:new h.FieldState(""),startDate:new h.FieldState(n.state.startDate),endDate:new h.FieldState(n.state.endDate),days:new h.FieldState(""),featureName:new h.FieldState("ORDER_ADVANCED_FILTER"),active:new h.FieldState(!1),urgencyFactors:new h.FieldState(n.state.urgencies),zones:new h.FieldState(n.state.zones),products:new h.FieldState(n.state.products),orderTypes:new h.FieldState(n.state.orderTypes),name:new h.FieldState("")})},n.onSubmit=function(){var e=Object(f.getFormValue)(n.form);e.products=n.form.$.products.value,e.name=n.form.$.name.value,e.zones=n.form.$.zones.value,e.orderTypes=n.form.$.orderTypes.value,e.urgencyFactors=n.form.$.urgencyFactors.value,n.form.validate().then(function(t){!t.hasError&&n.props.onSave(e)})},n.onSelectProfile=function(){var e,t=(e=et.a.mark(function e(t){var r,a,o,i,l,s,c,d,u,p,m,f,h,y,g,v,b,O,C,E;return et.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.props.advancedProfiles.find(function(e){return e.profileId===t}),e.next=3,n.getProducts(r);case 3:return a=e.sent,e.next=6,n.getOrderTypes(r);case 6:return o=e.sent,e.next=9,n.getZones(r);case 9:return i=e.sent,e.next=12,n.getUrgencies(r);case 12:l=e.sent,s=r.endDate,c=r.startDate,d=r.startOrderQuantity,u=r.startTankPercent,p=r.name,m=r.showReturnedOrders,f=r.showUnGeocodeOrders,h=r.excludeCreditHolds,y=r.showMarkedOrders,g=r.showOpenOrders,v=r.excludeBalances,b=r.endOrderQuantity,O=r.endTankPercent,te.a.locale(n.props.intl?n.props.intl.locale:"en"),C=s&&te()("".concat(s[0],"-").concat(s[1],"-").concat(s[2])).toDate(),E=c&&te()("".concat(c[0],"-").concat(c[1],"-").concat(c[2])).toDate(),n.form.$.endDate.onChange(C),n.form.$.endOrderQuantity.onChange(b),n.form.$.endTankPercent.onChange(O),n.form.$.startDate.onChange(E),n.form.$.startOrderQuantity.onChange(d),n.form.$.startTankPercent.onChange(u),n.form.$.urgencyFactors.onChange(l.idelements),n.form.$.zones.onChange(i.idelements),n.form.$.products.onChange(a.idelements),n.form.$.orderTypes.onChange(o.idelements),n.form.$.name.onChange(p),n.form.$.showReturnedOrders.onChange(m),n.form.$.showUnGeocodeOrders.onChange(f),n.form.$.excludeCreditHolds.onChange(h),n.form.$.showMarkedOrders.onChange(y),n.form.$.showOpenOrders.onChange(g),n.form.$.excludeBalances.onChange(v),n.changeDays(),n.setState(Object(R.a)({},n.state,{endOrderQuantity:b,endTankPercent:O,startTankPercent:u,startOrderQuantity:d,showReturnedOrders:m,showUnGeocodeOrders:f,excludeCreditHolds:h,showMarkedOrders:y,showOpenOrders:g,excludeBalances:v,startDate:E,endDate:C,products:a.elements,orderTypes:o.elements,zones:i.elements,urgencies:l.elements}));case 36:case"end":return e.stop()}},e)}),function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){tt(o,r,a,i,l,"next",e)}function l(e){tt(o,r,a,i,l,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),n.onAddCancelProfile=function(e){n.form.reset(),n.setState(Object(R.a)({},n.state,{newProfile:e})),e&&n.form.$.profileId.onChange(-1),n.changeDays()},n.getProducts=function(e){var t=[],n=[];return e.products.map(function(e){t.push({label:e.productName,value:e.productId}),n.push(e.productId)}),{elements:t,idelements:n}},n.getOrderTypes=function(e){var t=[],n=[];return e.orderTypes.map(function(e){t.push({label:e.ordTypeName,value:e.orderTypeid}),n.push(e.orderTypeid)}),{elements:t,idelements:n}},n.getZones=function(e){var t=[],n=[];return e.zones.map(function(e){t.push({label:e.zoneName,value:e.zoneId}),n.push(e.zoneId)}),{elements:t,idelements:n}},n.getUrgencies=function(e){var t=[],n=[];return e.urgencyFactors.map(function(e){t.push({label:e.value,value:e.key}),n.push(e.key)}),{elements:t,idelements:n}},n.isOnList=function(e,t){return!!t.find(function(t){return t.value===e.value})},n.updateList=function(e,t){return t.length?e.filter(function(e){return!n.isOnList(e,t)}):e},n.changeDays=function(){var e=te()(n.form.$.startDate.value),t=te()(n.form.$.endDate.value).diff(e,"days"),r=t&&t>0?t:"";n.form.$.days.onChange(r)},n.getProfileInput=function(){var e=n.props,t=e.listProfiles,r=e.isLoading;return n.state.newProfile?c.a.createElement(f.VInputField,{inline:!0,layer:{inputOrientation:"end",inputWidth:10},label:"Profile",id:"idnewprofile",fieldState:n.form.$.name,fill:!0,required:!0}):c.a.createElement(f.VSelectField,{label:"Profile",id:"idselectprofile",inline:!0,required:!0,className:r?u.e.SKELETON:"",onChange:n.onSelectProfile,fieldState:n.form.$.profileId,placeholder:"Select Profile",layer:{inputOrientation:"end",inputWidth:12},fill:!0,options:t})},n.getEditableListInputs=function(){var e=n.props,t=e.productList,r=e.zoneslist,a=e.urgencylist,o=e.typeslist,i=n.state,l=i.urgencies,s=i.products,d=i.zones,u=i.orderTypes;return c.a.createElement(ot,null,function(e){return e&&c.a.createElement(m.Row,null,c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(at.a,{headerText:"Product",elementsSelected:s,toolTipAdd:"Add product",headerBgColor:e.headers,headerColor:e.sidebar_text,toolTipDel:"Delete product",listSelectElements:n.updateList(t,s),id:"ideditproduct",onSelect:function(e){n.form.$.products.onChange(e)}})),c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(at.a,{headerText:"Order Type",toolTipAdd:"Add type",toolTipDel:"Delete type",headerBgColor:e.headers,headerColor:e.sidebar_text,elementsSelected:u,listSelectElements:o,id:"ideditorder",onSelect:function(e){n.form.$.orderTypes.onChange(e)}})),c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(at.a,{headerText:"Route",elementsSelected:d,toolTipAdd:"Add route",toolTipDel:"Delete route",headerBgColor:e.headers,headerColor:e.sidebar_text,listSelectElements:r,id:"ideditrout",onSelect:function(e){n.form.$.zones.onChange(e)}})),c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(at.a,{headerText:"Urgency",toolTipAdd:"Add urgency",headerBgColor:e.headers,headerColor:e.sidebar_text,toolTipDel:"Delete urgency",id:"idediturgency",elementsSelected:l,listSelectElements:a,onSelect:function(e){n.form.$.urgencyFactors.onChange(e)}})))})},n.getTextCheckFields=function(){var e=n.form;return c.a.createElement(ot,null,function(t){return t&&c.a.createElement(m.Row,null,c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(f.VCardPanel,{headerText:"Order Quantity",bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},c.a.createElement(be.i,{id:"quantity>=",inline:!0,fieldState:e.$.startOrderQuantity,label:"Quantity >=",layer:be.o}),c.a.createElement(be.i,{id:"quantity<=",inline:!0,fieldState:e.$.endOrderQuantity,label:"Quantity <=",layer:be.o}))),c.a.createElement(be.f,{xs:12,sm:12,md:6,lg:3},c.a.createElement(f.VCardPanel,{headerText:"Tank Percentaje",bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},c.a.createElement(be.j,{id:"pct>=",inline:!0,fieldState:e.$.startTankPercent,label:"Pct >=",layer:{inputWidth:9}}),c.a.createElement(be.j,{id:"pct<=",inline:!0,fieldState:e.$.endTankPercent,label:"Pct <=",layer:{inputWidth:9}}))),c.a.createElement(be.f,{xs:12,sm:12,lg:6},c.a.createElement(be.l,{headerText:"Open Status",bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",label:"Returned Orders Only",inline:!0,checkBoxAtLeft:!0,layer:be.n,fieldState:e.$.showReturnedOrders,id:"1"})),c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:be.n,label:"Marked Orders Only",inline:!0,id:"2",fieldState:e.$.showMarkedOrders}))),c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:be.n,label:"All Open Orders",inline:!0,fieldState:e.$.showOpenOrders,id:"3"})),c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:be.n,label:"Exclude Balances",inline:!0,fieldState:e.$.excludeBalances,id:"4"}))),c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:be.n,label:"Exclude Credit Hold",inline:!0,fieldState:e.$.excludeCreditHolds,id:"5"})),c.a.createElement(m.Col,{xs:6},c.a.createElement(be.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:be.n,label:"Ungeocoded Only",inline:!0,fieldState:e.$.showUnGeocodeOrders,id:"6"}))))))})},n.getDateInputFields=function(){return c.a.createElement(be.e,{xs:12,lg:10},c.a.createElement(be.d,{dateType:"DATE",layer:{inputWidth:6},id:"iddialstartorderdate",label:"Start Order Date",onChange:n.changeDays,inline:!0,fieldState:n.form.$.startDate}),c.a.createElement(be.d,{dateType:"DATE",layer:{inputWidth:6},inline:!0,onChange:n.changeDays,id:"iddialendorderdate",label:"End Order Date",fieldState:n.form.$.endDate}),c.a.createElement(be.g,{layer:{inputWidth:4},inline:!0,type:"text",disabled:!0,id:"iddays",label:"Days",fieldState:n.form.$.days}))},n.initForm(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{width:"100%",padding:"0 20px"}},c.a.createElement(be.c,null,c.a.createElement(be.f,null,c.a.createElement("div",{style:{width:210}},this.getProfileInput())),this.state.newProfile?c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:"Cancel"},c.a.createElement(be.a,{icon:"disable",onClick:function(){return e.onAddCancelProfile(!1)}})):c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:"Add profile"},c.a.createElement(be.a,{icon:"plus",onClick:function(){return e.onAddCancelProfile(!0)}}))),this.getEditableListInputs(),this.getTextCheckFields(),c.a.createElement(m.Row,null,this.getDateInputFields()),c.a.createElement(be.b,null,c.a.createElement(m.Col,null,c.a.createElement(p.b,{icon:"saved",text:"Save",large:!0,onClick:this.onSubmit}))))}}]),t}(s.Component))||nt,lt=Object(y.d)(it),st=D.a.Consumer,ct=Object(d.inject)("order_management_store")(rt=Object(d.observer)(rt=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={open:!1},n.changeOpen=function(){n.setState({open:!n.state.open})},n.handleSaveFilters=function(e){e.profileId&&-1!==e.profileId?n.props.order_management_store.updateProfile(e):(e.profileId=null,n.props.order_management_store.saveProfile(e)),n.changeOpen()},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props.order_management_store,n=t.listZone,r=t.listUrgency,a=t.listTypes,o=t.listProducts,i=t.isLoading,l=t.listProfiles,s=t.advancedProfiles;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.b,{style:j,icon:"filter",onClick:this.changeOpen},this.props.intl.formatMessage({id:"delivery.order.open.btn_filter"})),c.a.createElement(Ce.a,{isOpen:this.state.open,canOutsideClickClose:!1,usePortal:!0,onClose:this.changeOpen,style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(st,null,function(t){return t&&c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleFilter"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:e.changeOpen})},c.a.createElement(f.VSuspenseLoading,null,c.a.createElement(lt,{onSave:e.handleSaveFilters,productList:o,zoneslist:n,isLoading:i,typeslist:a,listProfiles:l,advancedProfiles:s,urgencylist:r})))})))}}]),t}(s.Component))||rt)||rt,dt=Object(y.d)(ct);function ut(){var e=Object(g.a)(["\n  svg {\n    fill: #fff !important;\n  }\n"]);return ut=function(){return e},e}var pt,mt,ft,ht=Object(v.default)(p.a)(ut()),yt=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.intl;return c.a.createElement(Dt.Consumer,null,function(t){return c.a.createElement(m.Row,{end:"xs"},c.a.createElement(m.Col,{xs:6},c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:e.formatMessage({id:"commons.search",defaultMessage:"Search"})},c.a.createElement(ht,{onClick:t.onSearchAcc,icon:"search",fill:!0,minimal:!0,disabled:t.loadingAccount}))),c.a.createElement(m.Col,{xs:6},c.a.createElement($.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:e.formatMessage({id:"commons.clear",defaultMessage:"Clear"})},c.a.createElement(ht,{onClick:t.onClearSearchAcc,icon:"eraser",fill:!0,minimal:!0,disabled:t.loadingAccount}))))})}}]),t}(s.Component),gt=Object(y.d)(yt),vt=D.a.Consumer,bt=function(e){function t(e){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).call(this,e))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.intl,n=e.form,r=e.states,a=e.products,o={labelWidth:4,inputWidth:8,labelOrientation:"end",inputOrientation:"start"};return c.a.createElement(vt,null,function(e){return e&&c.a.createElement(f.VCardPanel,{headerText:t.formatMessage({id:"delivery.order.open.searchCriteria"}),bodyPadding:"5px",height:"315px",headerBackgroundColor:e.headers,headerColor:"#FFFFFF",headerCustomComponent:c.a.createElement(gt,null)},c.a.createElement(f.VInputField,{id:"account",fieldState:n.$.accountId,fill:!0,inline:!0,layer:o,label:"Account Id"}),c.a.createElement(f.VInputField,{id:"name",fieldState:n.$.name,fill:!0,inline:!0,layer:o,label:"Name"}),c.a.createElement(f.VSelectField,{label:"Product:",id:"products",inline:!0,fieldState:n.$.productId,layer:o,fill:!0,options:a}),c.a.createElement(f.VInputField,{id:"city",fieldState:n.$.city,fill:!0,inline:!0,layer:o,label:"City"}),c.a.createElement(f.VSelectField,{label:"State/Prov:",id:"stateProv",inline:!0,fieldState:n.$.stateProv,layer:o,fill:!0,options:r}))})}}]),t}(s.Component),Ot=Object(y.d)(bt),Ct=D.a.Consumer,Et=function(e){function t(e){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).call(this,e))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.getNameHeader(this.props.numberAccount);return c.a.createElement(Ct,null,function(n){return n&&c.a.createElement(f.VCardPanel,{headerText:t,bodyPadding:"5px",headerHorizontalAlign:"center",headerBackgroundColor:n.headers,headerColor:"#FFFFFF"},e.props.isLoading?c.a.createElement(f.VSpinner,null):c.a.createElement(f.VTable,{tableHeight:"220px",columns:e.props.columns,cellSelectionType:"ENTIRE_ROW",onOrderColumns:e.props.onOrderColumns,actionsSelection:{onSelectionChange:e.props.onSelectAcct},columns_name:{accountId:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.account"})),name:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),fullAddress:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.address"})),city:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.city"})),state:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.state_prov"})),productName:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.product"})),tanksize:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.tank"}))},data:e.props.data,reordering:!0}),c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:12},c.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",margin:"10px 0px"}},c.a.createElement(p.b,{icon:"tick",text:"Create Order",onClick:e.props.onCreateOrder,disabled:e.props.disableBtn})))))})}},{key:"getNameHeader",value:function(e){return"".concat(this.props.intl.formatMessage({id:"delivery.order.open.search_results"})," (").concat(e,")")}}]),t}(s.Component),Ft=Object(y.d)(Et),St=k.a.Consumer,jt=D.a.Consumer,_t=function(e){function t(e){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).call(this,e))}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.isLoading;return c.a.createElement(Tt.Consumer,null,function(t){return c.a.createElement(jt,null,function(a){return a&&c.a.createElement(St,null,function(o){return o&&c.a.createElement(f.VCardPanel,{headerBackgroundColor:a.headers,headerColor:"#FFFFFF",headerText:e.getNameHeader(0),bodyPadding:"5px",headerHorizontalAlign:"center"},r?c.a.createElement(f.VSpinner,null):c.a.createElement(f.VTable,{columns:["orderDate","type","orderStatus","qty","name","truck","lastDate","lastDelQty","img"],cellSelectionType:"ENTIRE_ROW",columns_name:{orderdate:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),type:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),orderStatus:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_status"})),qty:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"})),truck:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.truck"})),lastDate:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.del_date"})),lastDelQty:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.del_qty"})),img:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.img"})),name:Object(T.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.driver"}))},data:n,widgetsCell:[{column:"type",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:o.renderCustomerType}}}],reordering:!0}),c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:12},c.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"10px 0px"}},c.a.createElement(p.b,{icon:"disable",text:e.getCancelAndCloseTextFormated(),onClick:t.onCancelOrder})))))})})})}},{key:"getCancelAndCloseTextFormated",value:function(){return"".concat(this.props.intl.formatMessage({id:"app.cancel"})," /").concat(this.props.intl.formatMessage({id:"app.close"})," ")}},{key:"getNameHeader",value:function(e){return"".concat(this.props.intl.formatMessage({id:"delivery.order.open.order_history"})," (").concat(e,")")}}]),t}(s.Component),xt=Object(y.d)(_t),wt=D.a.Consumer,Dt=c.a.createContext({onSearchAcc:function(){},onClearSearchAcc:function(){},loadingAccount:!1}),Tt=c.a.createContext({onCancelOrder:function(){}}),kt=Object(d.inject)("order_management_store","accounts_orders_store","history_orders_store","orders_store")(pt=Object(d.observer)(pt=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.onSearchAccount=function(){var e=n.props.accounts_orders_store;n.form.$.accountId.value&&e.addFilter({field:"accountId",value:n.form.$.accountId.value,operator:"LIKE"}),n.form.$.productId.value&&e.addFilter({field:"productId",value:n.form.$.productId.value,operator:"EQUALITY"}),n.form.$.city.value&&e.addFilter({field:"city",value:n.form.$.city.value,operator:"LIKE"}),n.form.$.stateProv.value&&e.addFilter({field:"stateId",value:n.form.$.stateProv.value,operator:"EQUALITY"}),n.form.$.name.value&&e.addFilter({field:"name",value:n.form.$.name.value,operator:"LIKE"}),n.props.accounts_orders_store.getElements()},n.onEraserSearch=function(){var e=n.props.accounts_orders_store;e.removeFilter({field:"accountId",value:n.form.$.accountId.value,operator:"LIKE"}),e.removeFilter({field:"productId",value:n.form.$.productId.value,operator:"EQUALITY"}),e.removeFilter({field:"city",value:n.form.$.city.value,operator:"LIKE"}),e.removeFilter({field:"stateId",value:n.form.$.stateProv.value,operator:"EQUALITY"}),n.form.reset(),n.props.accounts_orders_store.getElements()},n.onSelectAcct=function(e){var t=n.props,r=t.accounts_orders_store,a=t.history_orders_store;r.setElement(e),a.addFilter({field:"acctId",value:e.acctId,operator:"EQUALITY"}),a.getElements()},n.handleSaveDetails=function(){n.props.accounts_orders_store.setOpenDetails(!1),n.props.onSaveOrder()},n.onCreateOrder=function(){n.props.accounts_orders_store.setOpenDetails(!0)},n.onReorderAcc=function(e){n.props.accounts_orders_store.setColumnsAcc(e)},n.getOrderDetailsComponent=function(){var e=n.props.accounts_orders_store;return c.a.createElement(Ce.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return e.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},c.a.createElement(wt,null,function(t){return t&&c.a.createElement(f.VCardPanel,{headerText:n.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:n.onCloseDetails.bind(Object(A.a)(n))})},c.a.createElement(he,{orderDetails:e.element,onSave:n.handleSaveDetails,onCancel:function(){return e.setOpenDetails(!1)},nofees:0}))}))},n.form=new h.FormState({accountId:new h.FieldState(""),name:new h.FieldState(""),productId:new h.FieldState(""),city:new h.FieldState(""),stateProv:new h.FieldState("")}),n.props.accounts_orders_store.getElements(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.accounts_orders_store.resetElement(),this.props.history_orders_store.removeFilter({field:"acctId",value:"",operator:"EQUALITY"})}},{key:"onCloseDetails",value:function(){this.props.accounts_orders_store.setOpenDetails(!1)}},{key:"render",value:function(){var e=this.props,t=e.order_management_store,n=e.accounts_orders_store,r=t,a=r.listStates,o=r.listProducts,i=n,l=i.elements,s=i.isLoading,d=i.count,u=i.element,p=i.openDetails;return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:12,lg:3},c.a.createElement(Dt.Provider,{value:{onSearchAcc:this.onSearchAccount,onClearSearchAcc:this.onEraserSearch,loadingAccount:s}},c.a.createElement(Ot,{form:this.form,products:o,states:a}))),c.a.createElement(m.Col,{xs:12,lg:9},c.a.createElement(Ft,{data:l,columns:n.columnsAcc,onSelectAcct:this.onSelectAcct,onOrderColumns:this.onReorderAcc,onCreateOrder:this.onCreateOrder,disableBtn:!(u&&u.acctId),isLoading:s,numberAccount:d}))),c.a.createElement("br",null),c.a.createElement(m.Row,null,c.a.createElement(m.Col,{xs:12},c.a.createElement(Tt.Provider,{value:{onCancelOrder:this.props.onClose}},c.a.createElement(xt,{isLoading:this.props.history_orders_store.isLoading,data:this.props.history_orders_store.elements}))),p&&this.getOrderDetailsComponent()))}}]),t}(s.Component))||pt)||pt,It=Object(y.d)(kt),Lt=D.a.Consumer,Pt=k.a.Consumer,Mt=Object(d.inject)("order_management_store")(mt=Object(d.observer)(mt=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).state={open:!1},n.changeOpen=function(){n.setState({open:!n.state.open})},n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p.b,{icon:"plus",onClick:this.changeOpen,style:j},this.props.intl.formatMessage({id:"delivery.order.open.btn_create"})),c.a.createElement(Ce.a,{isOpen:this.state.open,onClose:this.changeOpen,style:{width:"85%"},canOutsideClickClose:!1,canEscapeKeyClose:!1},c.a.createElement(Lt,null,function(t){return t&&c.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.searchCriteria"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:c.a.createElement(Oe,{action:e.changeOpen})},c.a.createElement("div",{className:u.e.DIALOG_BODY},c.a.createElement(Pt,null,function(t){return t&&c.a.createElement(It,{onSaveOrder:function(){t.handleOnSaveOrders()},onClose:e.changeOpen})})))})))}}]),t}(s.Component))||mt)||mt,At=Object(y.d)(Mt),Rt=k.a.Consumer,$t=Object(d.inject)("order_management_store","orders_store")(ft=Object(d.observer)(ft=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).form=void 0,n.initForm=function(){var e=n.props.order_management_store,t=e.search,r=e.profileActive;n.form=new h.FormState({select_profile:new h.FieldState(r),chkAllOrder:new h.FieldState(""),chkUngeocodedOnly:new h.FieldState(""),fSearch:new h.FieldState(t),startOrderDate:new h.FieldState(""),endOrderDate:new h.FieldState(""),days:new h.FieldState("")})},n.changeFilter=function(e){n.props.orders_store.changeFilterByUrgency(e)},n.raiseDoSearchWhenUserStoppedTyping=Object(T.debounce)(function(e){e(n.form.$.fSearch.value)},1800),n.initForm(),n}return Object(l.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.order_management_store.setOrderDetails({})}},{key:"render",value:function(){var e=this,t=this.props,n=t.order_management_store,r=t.orders_store,a=t.intl,o=n,i=o.isLoading,l=o.listProfiles,s=r,d=s.activeList,h=s.filterByUrgency,y=s.searchDays;return c.a.createElement(Rt,null,function(t){return t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{style:{padding:5}},c.a.createElement(m.Row,null,c.a.createElement(m.Col,{lg:9,style:{marginBottom:5}},c.a.createElement(M,{onChangeFilter:e.changeFilter,selType:t.isOrdersLoading?"DISABLED":"CELL"})),c.a.createElement(m.Col,{lg:3,style:{display:"flex",flexDirection:"column",alignItems:"flex-end"}},c.a.createElement("div",{style:{width:210}},c.a.createElement(f.VInputField,{onChange:function(n){e.form.$.fSearch.onChange(n),e.raiseDoSearchWhenUserStoppedTyping(t.setSearchList)},fill:!0,id:"idsearchorder",fieldState:e.form.$.fSearch,placeholder:"Ticket Search...",type:"search",leftIcon:"search"})),c.a.createElement("div",{style:{width:250,display:"flex",justifyContent:"flex-end"}},c.a.createElement("div",{style:{width:175,height:35}},c.a.createElement(f.VSelectField,{id:"idselectprofile",className:i?u.e.SKELETON:"",fieldState:e.form.$.select_profile,defaultText:a.formatMessage({id:"delivery.order.open.select_profile"}),layer:{inputOrientation:"end"},disabled:t.isOrdersLoading,onChange:t.selectProfile,fill:!0,options:l})),c.a.createElement(be.a,{icon:"filter-remove",disabled:t.isOrdersLoading,onClick:function(){e.form.$.select_profile.onChange(""),t.clearProfile()}})),c.a.createElement(dt,null),c.a.createElement(p.b,{icon:"search",style:j,disabled:!0},a.formatMessage({id:"delivery.order.open.btn_analyze"})),c.a.createElement(At,null)))),c.a.createElement("div",{style:{padding:5}},c.a.createElement(Ge,{total:t.totalOrders,activeList:d,filterByUrgency:h,searchDays:y})),c.a.createElement(m.Row,{style:{marginTop:7}},c.a.createElement(Ze,{isLoading:t.isOrdersLoading,searchDays:t.searchDays})))})}}]),t}(s.Component))||ft)||ft;t.default=Object(y.d)($t)}}]);
//# sourceMappingURL=2.72e8e47c.chunk.js.map