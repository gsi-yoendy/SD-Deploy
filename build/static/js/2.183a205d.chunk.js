(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{1083:function(e,t,r){"use strict";r.r(t);var n=r(12),a=r(15),o=r(18),l=r(16),i=r(19),s=r(0),d=r.n(s),c=r(34),p=r(490),u=r(497),m=r(23),f=r(28),g=r(41),h=r(24),y=r(52),C=r(25);function O(){var e=Object(h.a)(["\n  width: 100% !important;\n  margin: 0px 0px 0px 10px;\n  !important & label {\n    padding-top: 1px;\n    padding-left: 4px;\n    width: 100% !important;\n    display: flex;\n    flex-direction: row-reverse;\n  }\n  & input {\n    width: 100% !important;\n    margin: 0px !important;\n  }\n"]);return O=function(){return e},e}function v(){var e=Object(h.a)(["\n  @media screen and (min-width: 650px) {\n    position: relative;\n    right: 76px;\n  }\n  margin-right: 5px;\n  height: 30px;\n"]);return v=function(){return e},e}function b(){var e=Object(h.a)(["\n  display: flex;\n  justify-content: flex-start;\n"]);return b=function(){return e},e}function E(){var e=Object(h.a)(["\n  color: #ffffff;\n"]);return E=function(){return e},e}var F,S=Object(C.a)(f.VCheckboxField)(E()),_={marginBottom:5,width:200,maxHeight:20},j=Object(C.a)(m.Col)(b()),D=Object(C.a)(u.b)(v()),x=Object(C.a)(f.VInputField)(O()),T=r(208),w=r(45),k=r(381);function P(){var e=Object(h.a)(["\n  margin-right: 20px;\n  margin-top: 15px;\n  width: 245px;\n  display: flex;\n  justify-content: flex-end;\n"]);return P=function(){return e},e}var M=k.a.Consumer,I=(T.a.Consumer,C.a.div(P())),L=Object(c.inject)("urgency_summary_store")(F=Object(c.observer)(F=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.initForm=function(){var e=new g.FormState({select_profile:new g.FieldState(""),chkFilter:new g.FieldState(!0),chkUngeocodedOnly:new g.FieldState(""),fSearch:new g.FieldState(""),startOrderDate:new g.FieldState(""),endOrderDate:new g.FieldState(""),days:new g.FieldState("")});r.form=e},r.headerCustomComponent=function(e,t){var n=r.props.intl.formatMessage({id:"delivery.order.open.filterByU"});return"open"!==t&&(n=r.props.intl.formatMessage({id:"delivery.order.open.filterBy"})),d.a.createElement(I,null,d.a.createElement(M,null,function(t){return t&&d.a.createElement(S,{id:"idchekfield",label:"".concat(r.props.intl.formatMessage({id:"delivery.order.open.filter"})," ").concat(n),alignIndicator:"right",inline:!0,disabled:e,fieldState:r.form.$.chkFilter,onChange:r.props.onChangeFilter})}))},r.state={clearSelection:!1},r.initForm(),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.intl,n=t.urgency_summary_store,a=t.selType,o=n.isLoading;return d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(M,null,function(l){return l&&d.a.createElement(f.VCardPanel,{headerText:"".concat(r.formatMessage({id:"delivery.order.open.title_list_urgency"})),bodyPadding:"0px",headerTextJustify:"center",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerCustomComponent:e.headerCustomComponent(l.isOrdersLoading,l.activeList)},o?d.a.createElement(f.VSpinner,null):d.a.createElement(f.VTable,{columns:["orderType","incomplete","duplicate","unGeo","urgency1","urgency2","urgency3","urgency4","urgency5","total"],data:n.elements,cellSelectionType:a,actionsSelection:{clearSelection:e.state.clearSelection,onSelectionChange:l.listTypeClick},typeHeightRow:"HALF",configColumnsHeader:[{column:"urgency1",textColor:"#FFFFFF",backgroundColor:"#1b242a"},{column:"urgency2",textColor:"#FFFFFF",backgroundColor:"#f24444"},{column:"urgency3",textColor:"#FFFFFF",backgroundColor:"#ffd307"},{column:"urgency4",textColor:"#FFFFFF",backgroundColor:"#20a8a4"},{column:"urgency5",textColor:"#FFFFFF",backgroundColor:"#4bacef"}],columnWidths:[140,120,120],widgetsCell:[{column:"orderType",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:l.renderDeliveryType}}}],columns_name:{orderType:Object(w.upperCase)(r.formatMessage({id:"delivery.order.open.delivery_type"})),unGeo:e.props.intl.formatMessage({id:"delivery.order.open.unGeo"}),incomplete:e.props.intl.formatMessage({id:"delivery.order.open.cmIncomplete"}),duplicate:e.props.intl.formatMessage({id:"delivery.order.open.cmDuplicadas"}),urgency1:e.props.intl.formatMessage({id:"delivery.order.open.cmUrge_one"}),urgency2:e.props.intl.formatMessage({id:"delivery.order.open.cmUrge_two"}),urgency3:e.props.intl.formatMessage({id:"delivery.order.open.cmUrge_three"}),urgency4:e.props.intl.formatMessage({id:"delivery.order.open.cmUrge_four"}),total:e.props.intl.formatMessage({id:"delivery.order.open.unTotal"}),urgency5:e.props.intl.formatMessage({id:"delivery.order.open.cmUrge_five"})}}))})})}}]),t}(s.Component))||F)||F,A=Object(y.d)(L),$=r(32),R=r(67),N=r(1049);function V(){var e=Object(h.a)(["\n  padding: 5px;\n"]);return V=function(){return e},e}var B,z=[],U=d.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:z,dataFee:z,isLoading:!1}),Q=Object(C.a)(m.Row)(V()),W=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.form=new g.FormState({fieldselect:new g.FieldState("")}),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props.intl;return d.a.createElement(U.Consumer,null,function(r){return d.a.createElement(Q,null,d.a.createElement(m.Col,{xs:6},d.a.createElement(N.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:t.formatMessage({id:"delivery.order.open.addFees",defaultMessage:"Add Feed"})},d.a.createElement("div",{style:{marginTop:15}},d.a.createElement(f.VSelectField,{fieldState:e.form.$.fieldselect,id:"idfieldselectfee",onChange:r.onSelectFee,fill:!0,inline:!0,minimal:!0,options:r.listFees,icon:"plus",iconOnly:!0})))),d.a.createElement(m.Col,{xs:6},d.a.createElement("div",{style:{marginTop:15}},e.props.element?d.a.createElement(N.a,{usePortal:!0,position:"bottom",hoverCloseDelay:0,content:t.formatMessage({id:"delivery.order.open.deleteFees",defaultMessage:"Remove Feed"})},d.a.createElement(u.b,{disabled:!e.props.element,onClick:function(){r.onDelFee(e.props.element)},icon:"trash",fill:!0,minimal:!0})):d.a.createElement(u.b,{disabled:!e.props.element,onClick:function(){r.onDelFee(e.props.element)},icon:"trash",fill:!0,minimal:!0}))))})}}]),t}(s.Component),q=Object(y.d)(W),H=[],K=d.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:H,dataFee:H,isLoading:!1}),J=function(e){function t(){var e,r;Object(n.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(r=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(i)))).state={element:null},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(K.Consumer,null,function(t){return t.isLoading?d.a.createElement(f.VSpinner,null):d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement(f.VCardPanel,{headerTextJustify:"center",headerText:"Aditional Fees",headerBackgroundColor:r.headers,headerColor:"#FFFFFF",height:"275px",bodyPadding:"0",headerCustomComponent:d.a.createElement(q,{element:e.state.element})},d.a.createElement(f.VTable,{tableHeight:"206px",columns:["description","fee","overrideFee"],data:t.dataFee||[],reordering:!0,typeHeightRow:"HALF",columns_name:{description:"Description",overrideFee:"Overview Fee"},cellSelectionType:"ENTIRE_ROW",edit:{editColumn:{columns:["fee","overrideFee"]},onSave:function(e){},invalidDataMessage:function(e){Object(f.showToastNotification)({type:"danger",message:"No se puede guardar porq las siguiente columnas tienen datos invalidos: ".concat(e.join(" , ")),timeout:8e3})},editToolbar:{textSave:"Finish",textCancel:"Cancel",iconCancel:"cross",iconEdit:"edit",iconSave:"share"}},actionsSelection:{onSelectionChange:function(t){e.setState(Object(R.a)({},e.state,{element:t}))}}}))})})}}]),t}(s.Component),Y=r(1082),G=function(e){var t=Number(e);return!!e&&!Object(w.isFinite)(t)&&"Only number"},Z=function(e){return!e&&"This field is required"},X=function(e){var t=Object(w.uniqWith)(Object(w.cloneDeep)(e),w.isEqual);return Object(w.size)(t)!==Object(w.size)(e)&&"Duplicate"},ee=r(79),te=r.n(ee);function re(){var e=Object(h.a)(["\n  & label:before {\n    content: '* ';\n    padding-top: 1px;\n    position: relative;\n    bottom: 2px;\n    font-size: 12px;\n    color: #e21a1a;\n    text-align: start;\n  }\n"]);return re=function(){return e},e}var ne,ae,oe,le,ie,se,de,ce,pe=k.a.Consumer,ue=[],me=Object(C.a)(f.VDateTimePicker)(re()),fe=d.a.createContext({onSelectFee:function(e){},onDelFee:function(e){},listFees:ue,dataFee:ue,isLoading:!1}),ge=Object(c.inject)("order_management_store")(B=Object(c.observer)(B=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.initForm=function(){var e=r.props,t=e.orderDetails,n=e.order_management_store,a=e.intl;te.a.locale(a.locale),t.productId&&r.onSelectProduct(t.productId);var o=t.orderDate?te()(t.orderDate).toDate():te()().toDate();r.form=new g.FormState({accountId:new g.FieldState(t.accountId||""),acctId:new g.FieldState(t.acctId||""),fsname:new g.FieldState(t.name||""),fsaddress:new g.FieldState(t.address||""),id:new g.FieldState(t.orderId||""),ordQty:new g.FieldState(t.qty||"").validators(G),ordDate:new g.FieldState(o||"").validators(Z),fscity:new g.FieldState(t.city||""),fsStateProv:new g.FieldState(t.state||""),tankSize:new g.FieldState(t.tanksize||""),productId:new g.FieldState(t.productId||""),orderTypeId:new g.FieldState(t.orderTypeId||""),fillTypeId:new g.FieldState(t.fillTypeId||0===t.fillTypeId?t.fillTypeId.toString():""),fixed:new g.FieldState(""),price:new g.FieldState(t.price||"").validators(G),skipContracts:new g.FieldState(t.skipContracts),remarks:new g.FieldState(t.remarks||""),slipOrder:new g.FieldState(t.slipOrder),orderAdditionalFees:new g.FieldState(n.listDetailsFees).validators(X)})},r.updateForm=function(){var e=r.props.order_management_store;r.form.$.orderAdditionalFees.onChange(e.listDetailsFees)},r.onSubmit=function(e){var t=Object(f.getFormValue)(r.form);r.form.validate().then(function(n){n.hasError?"Duplicate"===r.form.fieldError&&Object(f.showToastNotification)({type:"danger",message:"You have Fees duplicate!",timeout:1600}):e(t,r.props.onSave)})},r.onSelectProduct=function(e){r.props.order_management_store.getFees(e)},r.onCancel=function(e){e.preventDefault(),r.props.onCancel()},r.onAddFee=function(e){r.props.order_management_store.addFee(e)},r.onRemoveFee=function(e){r.props.order_management_store.delFee(e)},r.onEditFee=function(e){},r.initForm(),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(){this.updateForm()}},{key:"render",value:function(){var e=this,t={labelWidth:4,inputWidth:8,labelOrientation:"end",inputOrientation:"start"},r=this.props,n=r.intl,a=r.order_management_store,o=a.listProducts,l=a.listTypes,i=a.isLoading,s=a.listSelectFees,c=a.listFillTypes,g=a.listDetailsFees;return d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement(pe,null,function(a){return a&&d.a.createElement("div",{style:{padding:5,width:"100%"}},d.a.createElement(m.Row,null,d.a.createElement(m.Col,{sm:6,lg:3},d.a.createElement(f.VCardPanel,{headerText:"Account Information",headerTextJustify:"center",height:"410px",bodyPadding:"5px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF"},d.a.createElement(f.VInputField,{id:"accountId",label:"Account ID:",type:"text",inline:!0,className:i?p.a.SKELETON:"",fill:!0,fieldState:e.form.$.accountId,layer:t,disabled:!0}),d.a.createElement(f.VInputField,{id:"name",label:"Name:",inline:!0,className:i?p.a.SKELETON:"",fill:!0,type:"text",fieldState:e.form.$.fsname,layer:t,disabled:!0}),d.a.createElement(f.VInputField,{id:"address",label:"Address:",inline:!0,className:i?p.a.SKELETON:"",type:"text",fill:!0,layer:t,fieldState:e.form.$.fsaddress,disabled:!0}),d.a.createElement(f.VInputField,{id:"city",label:"City:",inline:!0,className:i?p.a.SKELETON:"",fill:!0,type:"text",layer:t,fieldState:e.form.$.fscity,disabled:!0}),d.a.createElement(f.VInputField,{id:"state",label:"State/Prov:",inline:!0,fill:!0,className:i?p.a.SKELETON:"",layer:t,type:"text",fieldState:e.form.$.fsStateProv,disabled:!0}),d.a.createElement(f.VInputField,{id:"tank",label:"Tank Size:",inline:!0,fill:!0,className:i?p.a.SKELETON:"",layer:t,type:"text",fieldState:e.form.$.tankSize,disabled:!0}),d.a.createElement("div",{className:i?p.a.SKELETON:""},d.a.createElement(f.VSelectField,{label:"Product:",id:"products",onChange:e.onSelectProduct,inline:!0,required:!0,validators:[Z],fieldState:e.form.$.productId,layer:t,fill:!0,options:o})))),d.a.createElement(m.Col,{sm:6,lg:4},d.a.createElement(f.VCardPanel,{headerTextJustify:"center",headerText:"Order Form",bodyPadding:"5px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF"},d.a.createElement(f.VInputField,{id:"orderId",label:"Order ID:",inline:!0,disabled:!0,className:i?p.a.SKELETON:"",type:"text",fill:!0,layer:t,fieldState:e.form.$.id}),d.a.createElement(f.VInputField,{id:"orderQty",label:"Order Qty:",inline:!0,required:!0,className:i?p.a.SKELETON:"",validators:[Z],fill:!0,layer:t,type:"text",fieldState:e.form.$.ordQty}),d.a.createElement(me,{dateType:"DATE",label:"Order Date",id:"orderDate",className:i?p.a.SKELETON:"",validators:[Z],inline:!0,layer:t,leftIcon:"calendar",fieldState:e.form.$.ordDate}),d.a.createElement("div",{className:i?p.a.SKELETON:""},d.a.createElement(f.VSelectField,{label:"Order Type:",id:"orderType",required:!0,inline:!0,fieldState:e.form.$.orderTypeId,layer:t,validators:[Z],fill:!0,options:l})),d.a.createElement("div",{className:i?p.a.SKELETON:""},d.a.createElement(f.VSelectField,{label:"Order Fill Type:",id:"fillTypeId",inline:!0,required:!0,fieldState:e.form.$.fillTypeId,layer:t,fill:!0,options:c})),d.a.createElement(f.VInputField,{id:"fixed",label:"Fixed Amt/Del:",className:i?p.a.SKELETON:"",inline:!0,fill:!0,layer:t,type:"text",fieldState:e.form.$.fixed}),d.a.createElement(f.VInputField,{id:"price",label:"Price:",className:i?p.a.SKELETON:"",inline:!0,fill:!0,layer:t,type:"text",fieldState:e.form.$.price}),d.a.createElement(f.VCheckboxField,{layer:{labelWidth:4,inputWidth:6,labelOrientation:"end",inputOrientation:"start"},className:i?p.a.SKELETON:"",fieldState:e.form.$.skipContracts,alignIndicator:"right",id:"skipContracts",label:"Skip Contract",inline:!0}))),d.a.createElement(m.Col,{sm:12,lg:5},d.a.createElement(m.Row,null,d.a.createElement(m.Col,{lg:12,sm:6,style:{marginBottom:18}},d.a.createElement(f.VCardPanel,{headerText:"Description",bodyPadding:"5px 5px 5px 5px",headerTextJustify:"center",headerBackgroundColor:r.headers,headerColor:"#FFFFFF"},d.a.createElement(f.VTextAreaField,{fill:!0,layer:{labelWidth:4,inputWidth:8,labelOrientation:"center",inputOrientation:"start"},id:"remarks",label:"Order Description",inline:!0,className:i?p.a.SKELETON:"",fieldState:e.form.$.remarks}))),d.a.createElement(m.Col,{lg:12,sm:6},d.a.createElement(fe.Provider,{value:{isLoading:i,onSelectFee:e.onAddFee,listFees:s,onDelFee:e.onRemoveFee,dataFee:g}},d.a.createElement(J,null)))))),d.a.createElement(Y.a,null),d.a.createElement(m.Row,{end:"xs",style:{padding:5}},d.a.createElement(m.Col,{xs:!0},d.a.createElement(u.b,{minimal:!0,intent:"none",icon:"tick",onClick:function(){e.onSubmit(a.onSaveOrders)},disabled:i||e.props.disableSave,text:n.formatMessage({id:"setup.location.operator.filter.apply",defaultMessage:"Save order"})}),d.a.createElement(u.b,{minimal:!0,intent:"none",icon:"disable",onClick:e.props.onCancel,text:n.formatMessage({id:"setup.location.operator.form.cancel",defaultMessage:"Cancel"})}))))})})}}]),t}(s.Component))||B)||B,he=Object(y.d)(ge),ye=r(209),Ce=k.a.Consumer,Oe=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).onSelectRow=function(e){r.props.onSelect(e)},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(Ce,null,function(t){return t&&d.a.createElement(f.VTable,{columns:e.props.columns,typeHeightRow:"HALF",striped:!0,enableColumnResizing:!0,cellSelectionType:"ENTIRE_ROW",actionsSelection:{onSelectionChange:e.onSelectRow},widgetsCell:t.renderCustom(e.props.columns),columns_name:{orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmTickNo"}),accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),orderDate:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),geo:e.props.intl.formatMessage({id:"delivery.order.open.cmGeo"}),type:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),name:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),qty:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"}))},data:e.props.orders,footer:d.a.createElement(ye.a,{currentPage:e.props.page,onPageChanged:e.props.onPageChange,pageLimit:e.props.pageSize,totalRecords:e.props.totalOrder})})})}}]),t}(s.Component),ve=Object(y.d)(Oe),be=r(382),Ee=r(1078),Fe=r(7),Se=k.a.Consumer,_e=Object(c.inject)("open_orders_store")(ne=Object(c.observer)(ne=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).onChangeDays=function(){r.props.days?r.props.open_orders_store.addFilter({value:r.props.days,field:"numberDate",operator:"EQUALITY"}):r.props.open_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},r.onChangeFilter=function(){r.props.filter&&r.props.open_orders_store.updateFilterType(),r.props.open_orders_store.setFilterByUrgency(r.props.filter)},r.onChangeFilter(),r.onChangeDays(),Object(c.disposeOnUnmount)(Object($.a)(r),[Object(Fe.reaction)(function(){return r.props.filter},function(){r.onChangeFilter()}),Object(Fe.reaction)(function(){return r.props.days},function(){r.onChangeDays()})]),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"handleOpenDetails",value:function(){this.props.open_orders_store.setOpenDetails(!0)}},{key:"onSelectOpen",value:function(e){this.props.open_orders_store.setElement(e)}},{key:"componentWillUnmount",value:function(){this.props.open_orders_store.resetElement(),this.props.open_orders_store.setOpenDetails(!1),this.props.open_orders_store.setCmpMount(!1)}},{key:"handleSaveDetails",value:function(){var e=this.props.open_orders_store;e.setOpenDetails(!1),e.getElements()}},{key:"onPageChange",value:function(e){e.paginationData.currentPage===this.props.open_orders_store.page&&e.pageLimit===this.props.open_orders_store.size||(this.props.open_orders_store.setSize(e.pageLimit),e.paginationData.currentPage>0&&this.props.open_orders_store.setPage(e.paginationData.currentPage))}},{key:"componentDidMount",value:function(){this.props.open_orders_store.setCmpMount(!0)}},{key:"handleCloseDetails",value:function(){this.props.open_orders_store.setOpenDetails(!1)}},{key:"render",value:function(){var e=this,t=this.props.open_orders_store,r=t.isLoading,n=t.isDetailsOpen,a=t.elements,o=t.count,l=t.element,i=t.size,s=t.page;return d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(Se,null,function(c){return c&&d.a.createElement(f.VCardPanel,{headerText:"".concat(e.props.intl.formatMessage({id:"delivery.order.open.title_list_open"})," (").concat(o," of ").concat(c.totalOrders,")"),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center"},r?d.a.createElement(f.VSpinner,null):d.a.createElement(ve,{orders:a,pageSize:i,totalOrder:o,page:s,onPageChange:e.onPageChange.bind(e),columns:["type","geo","orderId","accountId","name","lastDate","orderDate","qty"],renderCustomerType:c.renderCustomerType,onSelect:e.onSelectOpen.bind(e)}),n&&d.a.createElement(Ee.a,{isOpen:n,canOutsideClickClose:!1,onClose:e.handleCloseDetails.bind(e),style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:e.handleCloseDetails.bind(e)})},d.a.createElement(he,{orderDetails:l,onSave:e.handleSaveDetails.bind(e),onCancel:e.handleCloseDetails.bind(e),nofees:0}))))})})}}]),t}(s.Component))||ne)||ne,je=Object(y.d)(_e),De=k.a.Consumer,xe=Object(y.d)(function(e){var t=e.orders,r=e.onRowClick;return d.a.createElement(De,null,function(n){return n&&d.a.createElement(f.VTable,{cellSelectionType:"ENTIRE_ROW",striped:!0,actionsSelection:{onSelectionChange:r},columns:e.columns,widgetsCell:n.renderCustom(e.columns),typeHeightRow:"HALF",enableColumnResizing:!0,columns_name:{orderId:e.intl.formatMessage({id:"delivery.order.review.cmOrdId"}),accountId:e.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),name:Object(w.upperCase)(e.intl.formatMessage({id:"delivery.order.open.name"})),error:e.intl.formatMessage({id:"delivery.order.open.cmError"}),type:Object(w.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_type"})),orderDate:Object(w.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_date"})),qty:Object(w.upperCase)(e.intl.formatMessage({id:"delivery.order.open.order_qty"}))},data:t,footer:d.a.createElement(ye.a,{currentPage:e.page,onPageChanged:e.onPageChange,pageLimit:e.pageSize,totalRecords:e.totalOrder})})})}),Te=k.a.Consumer,we=Object(c.inject)("incomplete_orders_store")(ae=Object(c.observer)(ae=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).onChangeDays=function(){r.props.days?r.props.incomplete_orders_store.addFilter({value:r.props.days,field:"numberDate",operator:"EQUALITY"}):r.props.incomplete_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},r.onSelectOrder=function(e){e?r.props.incomplete_orders_store.setElement(e):r.props.incomplete_orders_store.resetElement()},r.handleSaveDetails=function(){var e=r.props.incomplete_orders_store;e.setOpenDetails(!1),e.getElements()},r.onChangeFilter=function(){r.props.filter&&r.props.incomplete_orders_store.updateFilterType(),r.props.incomplete_orders_store.setFilterBySummary(r.props.filter)},r.onChangeFilter(),r.onChangeDays(),Object(c.disposeOnUnmount)(Object($.a)(r),[Object(Fe.reaction)(function(){return r.props.filter},function(){r.onChangeFilter()}),Object(Fe.reaction)(function(){return r.props.days},function(){r.onChangeDays()})]),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.incomplete_orders_store.resetElement(),this.props.incomplete_orders_store.setOpenDetails(!1),this.props.incomplete_orders_store.setCmpMount(!1)}},{key:"componentDidMount",value:function(){this.props.incomplete_orders_store.setCmpMount(!0)}},{key:"onPageChange",value:function(e){e.paginationData.currentPage===this.props.incomplete_orders_store.page&&e.pageLimit===this.props.incomplete_orders_store.size||(this.props.incomplete_orders_store.setSize(e.pageLimit),e.paginationData.currentPage>0&&this.props.incomplete_orders_store.setPage(e.paginationData.currentPage))}},{key:"render",value:function(){var e=this,t=this.props.incomplete_orders_store,r=t,n=r.elements,a=r.count,o=r.isLoading,l=r.element,i=r.openDetails,s=r.size,c=r.page;return d.a.createElement("div",{style:{margin:5}},d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(Te,null,function(r){return r&&d.a.createElement(f.VCardPanel,{headerText:"Incomplete Orders (".concat(a," of ").concat(r.totalOrders,")"),bodyPadding:"1px",headerTextJustify:"center",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},o?d.a.createElement(f.VSpinner,null):d.a.createElement(xe,{orders:n,pageSize:s,totalOrder:a,page:c,onPageChange:e.onPageChange.bind(e),columns:["orderId","type","error","accountId","name","lastDate","orderDate","qty"],onRowClick:e.onSelectOrder,renderCustomerType:r.renderCustomerType}))})}),i&&d.a.createElement(Ee.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:function(){return t.setOpenDetails(!1)}})},d.a.createElement(he,{orderDetails:l,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))})))}}]),t}(s.Component))||ae)||ae,ke=Object(y.d)(we),Pe=r(14),Me=r(8),Ie=(r(50),k.a.Consumer),Le=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.orders,n=t.onRowClick;return d.a.createElement(Ie,null,function(t){return t&&d.a.createElement(f.VTable,{cellSelectionType:"ENTIRE_ROW",striped:!0,columns:e.props.columns,enableColumnResizing:!0,actionsSelection:{onSelectionChange:n},typeHeightRow:"HALF",columnWidths:[120,120,120,125],widgetsCell:t.renderCustom(e.props.columns),columns_name:{accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmOrdId"}),orderStatus:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_status"})),colortype:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),orderDate:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),customerName:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),productName:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.product"})),qty:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"})),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),lastDelQty:e.props.intl.formatMessage({id:"delivery.order.review.cmLastQty"}),lastDelDriver:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.review.cmLastDriver"}))},data:r,footer:d.a.createElement(ye.a,{currentPage:e.props.page,onPageChanged:e.props.onPageChange,pageLimit:e.props.pageSize,totalRecords:e.props.totalOrder})})})}}]),t}(s.Component),Ae=Object(y.d)(Le),$e=k.a.Consumer,Re=Object(c.inject)("duplicate_orders_store")(oe=Object(c.observer)((le=function(e){function t(e){var r;return Object(n.a)(this,t),r=Object(o.a)(this,Object(l.a)(t).call(this,e)),Object(Pe.a)(r,"activeDrop",ie,Object($.a)(r)),r.onChangeDays=function(){r.props.days?r.props.duplicate_orders_store.addFilter({value:r.props.days,field:"numberDate",operator:"EQUALITY"}):r.props.duplicate_orders_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},r.onSelectOrder=function(e){r.props.duplicate_orders_store.setElement(e)},r.loadOrders=function(){r.props.duplicate_orders_store.getElements()},r.handleSaveDetails=function(){var e=r.props.duplicate_orders_store;e.setOpenDetails(!1),e.getElements()},r.onChangeFilter=function(){r.props.filter&&r.props.duplicate_orders_store.updateFilterType(),r.props.duplicate_orders_store.setFilterBySummary(r.props.filter)},r.activeDrop=!1,r.onChangeFilter(),r.onChangeDays(),Object(c.disposeOnUnmount)(Object($.a)(r),[Object(Fe.reaction)(function(){return r.props.filter},function(){r.onChangeFilter()}),Object(Fe.reaction)(function(){return r.props.days},function(){r.onChangeDays()})]),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.duplicate_orders_store.resetElement(),this.props.duplicate_orders_store.setOpenDetails(!1),this.props.duplicate_orders_store.setCmpMount(!1)}},{key:"onPageChange",value:function(e){e.paginationData.currentPage===this.props.duplicate_orders_store.page&&e.pageLimit===this.props.duplicate_orders_store.size||(this.props.duplicate_orders_store.setSize(e.pageLimit),e.paginationData.currentPage>0&&this.props.duplicate_orders_store.setPage(e.paginationData.currentPage))}},{key:"componentDidMount",value:function(){this.props.duplicate_orders_store.setCmpMount(!0)}},{key:"render",value:function(){var e=this,t=this.props.duplicate_orders_store,r=t,n=r.elements,a=r.count,o=r.isLoading,l=r.openDetails,i=r.size,s=r.page;return d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement($e,null,function(c){return c&&d.a.createElement(d.a.Fragment,null,d.a.createElement(f.VCardPanel,{headerText:"Duplicate Orders: (".concat(a," of ").concat(c.totalOrders,")"),bodyPadding:"1px",headerTextJustify:"center",headerBackgroundColor:r.headers,headerColor:"#FFFFFF",defaultActive:e.activeDrop},o?d.a.createElement(f.VSpinner,null):d.a.createElement(Ae,{columns:["accountId","name","orderId","orderStatus","type","productName","orderDate","qty","lastDate","lastDelQty","lastDelDriver"],pageSize:i,totalOrder:a,page:s,onPageChange:e.onPageChange.bind(e),renderCustomerType:c.renderCustomerType,orders:n,onRowClick:e.onSelectOrder})),l&&d.a.createElement(Ee.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:function(){return t.setOpenDetails(!1)}})},d.a.createElement(he,{orderDetails:t.element,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))))})})}}]),t}(s.Component),ie=Object(Me.a)(le.prototype,"activeDrop",[Fe.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=le))||oe)||oe,Ne=Object(y.d)(Re),Ve=k.a.Consumer,Be=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).onSelectRow=function(e){r.props.onSelect(e)},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.noungeoorders,n=t.noorders,a=t.orders,o=t.isLoading,l=t.intl;return d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(f.VCardPanel,{headerText:"".concat(l.formatMessage({id:"delivery.order.open.title_list_ungeo"})," (").concat(r," of ").concat(n,")"),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center"},o?d.a.createElement(f.VSpinner,null):d.a.createElement(Ve,null,function(t){return t&&d.a.createElement(f.VTable,{columns:e.props.columns,typeHeightRow:"HALF",striped:!0,enableColumnResizing:!0,cellSelectionType:"ENTIRE_ROW",actionsSelection:{onSelectionChange:e.onSelectRow},widgetsCell:t.renderCustom(e.props.columns),columns_name:{orderId:e.props.intl.formatMessage({id:"delivery.order.review.cmTickNo"}),accountId:e.props.intl.formatMessage({id:"delivery.order.review.cmAccId"}),lastDate:e.props.intl.formatMessage({id:"delivery.order.review.cmLastDate"}),orderDate:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),geo:e.props.intl.formatMessage({id:"delivery.order.open.cmGeo"}),type:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),name:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),qty:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"}))},footer:d.a.createElement(ye.a,{currentPage:e.props.page,onPageChanged:e.props.onPageChange,pageLimit:e.props.pageSize,totalRecords:e.props.totalOrder}),data:a})}))})}}]),t}(s.Component),ze=Object(y.d)(Be),Ue=k.a.Consumer,Qe=Object(c.inject)("ungeo_store")(se=Object(c.observer)(se=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).onSelectOrder=function(e){e?r.props.ungeo_store.setElement(e):r.props.ungeo_store.resetElement()},r.onChangeDays=function(){r.props.days?r.props.ungeo_store.addFilter({value:r.props.days,field:"numberDate",operator:"EQUALITY"}):r.props.ungeo_store.removeFilter({value:"",field:"numberDate",operator:"EQUALITY"})},r.handleSaveDetails=function(){var e=r.props.ungeo_store;e.setOpenDetails(!1),e.getElements()},r.onChangeFilter=function(){r.props.filter&&r.props.ungeo_store.updateFilterType(),r.props.ungeo_store.setFilterBySummary(r.props.filter)},r.onChangeFilter(),r.onChangeDays(),Object(c.disposeOnUnmount)(Object($.a)(r),[Object(Fe.reaction)(function(){return r.props.filter},function(){r.onChangeFilter()}),Object(Fe.reaction)(function(){return r.props.days},function(){r.onChangeDays()})]),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.ungeo_store.resetElement(),this.props.ungeo_store.setOpenDetails(!1),this.props.ungeo_store.setCmpMount(!1)}},{key:"componentDidMount",value:function(){this.props.ungeo_store.setCmpMount(!0)}},{key:"onPageChange",value:function(e){e.paginationData.currentPage===this.props.ungeo_store.page&&e.pageLimit===this.props.ungeo_store.size||(this.props.ungeo_store.setSize(e.pageLimit),e.paginationData.currentPage>0&&this.props.ungeo_store.setPage(e.paginationData.currentPage))}},{key:"render",value:function(){var e=this,t=this.props.ungeo_store,r=t,n=r.elements,a=r.count,o=r.isLoading,l=r.openDetails,i=r.size,s=r.page;return d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement("div",{style:{margin:5}},d.a.createElement(Ue,null,function(t){return t&&d.a.createElement(ze,{columns:["type","geo","orderId","accountId","name","lastDate","orderDate","qty"],orders:n,pageSize:i,totalOrder:a,page:s,onPageChange:e.onPageChange.bind(e),onSelect:function(r){e.onSelectOrder(r),t.onSelectOrders(r)},noorders:t.totalOrders,noungeoorders:a,isLoading:o})}),l&&d.a.createElement(Ee.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return t.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:function(){return t.setOpenDetails(!1)}})},d.a.createElement(he,{orderDetails:t.element,disableSave:!0,onSave:e.handleSaveDetails,onCancel:function(){return t.setOpenDetails(!1)},nofees:0}))))})}}]),t}(s.Component))||se)||se,We=Object(y.d)(Qe),qe=function(e){var t=e.activeList,r=e.filterByUrgency,n=e.searchDays;switch(t){case"open":case"total":return d.a.createElement(je,{filter:r,days:n});case"incomplete":return d.a.createElement(ke,{filter:r,days:n});case"duplicate":return d.a.createElement(Ne,{filter:r,days:n});case"ungeo":return d.a.createElement(We,{filter:r,days:n});default:return d.a.createElement(d.a.Fragment,null)}},He=r(383),Ke=k.a.Consumer,Je=Object(y.d)(function(e){var t=new g.FormState({days:new g.FieldState(e.searchDays)});return d.a.createElement(Ke,null,function(r){return r&&d.a.createElement(d.a.Fragment,null,d.a.createElement(j,{lg:7,xs:12},d.a.createElement(x,{onChange:function(e){r.onSearchByDays(e)},type:"text",inline:!0,validators:[G],id:"iddays",label:e.intl.formatMessage({id:"delivery.order.open.filterDays"}),fieldState:t.$.days,layer:{inputWidth:2,labelWidth:8}}),d.a.createElement(D,{icon:"tick",onClick:r.refresOrder,disabled:e.isLoading},e.intl.formatMessage({id:"delivery.order.open.btn_go"}))),d.a.createElement(m.Col,{lg:5,xs:12,style:{display:"flex",flexDirection:"row-reverse"}},d.a.createElement(u.b,{icon:"export",style:Object(R.a)({},_,{marginRight:5}),onClick:r.onExportExcel,disabled:r.isOrdersLoading||r.isOrderMLoading},e.intl.formatMessage({id:"delivery.order.review.btn_export_excel"})),d.a.createElement(u.b,{icon:"refresh",style:Object(R.a)({},_,{marginRight:5}),onClick:r.refreshList,disabled:r.isOrdersLoading||r.isOrderMLoading},e.intl.formatMessage({id:"delivery.order.open.btn_refresh"}))))})}),Ye=r(1070),Ge=r.n(Ye),Ze=r(1073),Xe=r(384),et=(r(1074),Object(c.observer)(de=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.state={newProfile:!1,products:[],zones:[],urgencies:[],orderTypes:[],endDate:null,endOrderQuantity:null,startDate:null,startOrderQuantity:null,startTankPercent:null,endTankPercent:null,showReturnedOrders:!1,showUnGeocodeOrders:!1,excludeCreditHolds:!1,showOpenOrders:!1,excludeBalances:!1,showMarkedOrders:!1},r.initForm=function(){r.form=new g.FormState({startOrderQuantity:new g.FieldState(r.state.startOrderQuantity).validators(G),endOrderQuantity:new g.FieldState(r.state.endOrderQuantity).validators(G),showReturnedOrders:new g.FieldState(r.state.showReturnedOrders),showMarkedOrders:new g.FieldState(r.state.showMarkedOrders),showOpenOrders:new g.FieldState(r.state.showOpenOrders),startTankPercent:new g.FieldState(r.state.startTankPercent).validators(G),endTankPercent:new g.FieldState(r.state.endTankPercent).validators(G),excludeBalances:new g.FieldState(r.state.excludeBalances),excludeCreditHolds:new g.FieldState(r.state.excludeCreditHolds),showUnGeocodeOrders:new g.FieldState(r.state.showUnGeocodeOrders),profileId:new g.FieldState(""),startDate:new g.FieldState(r.state.startDate),endDate:new g.FieldState(r.state.endDate),days:new g.FieldState(""),featureName:new g.FieldState("ORDER_ADVANCED_FILTER"),active:new g.FieldState(!1),urgencyFactors:new g.FieldState(r.state.urgencies),zones:new g.FieldState(r.state.zones),products:new g.FieldState(r.state.products),orderTypes:new g.FieldState(r.state.orderTypes),name:new g.FieldState("")})},r.onSubmit=function(){var e=Object(f.getFormValue)(r.form);e.products=r.form.$.products.value,e.name=r.form.$.name.value,e.zones=r.form.$.zones.value,e.orderTypes=r.form.$.orderTypes.value,e.urgencyFactors=r.form.$.urgencyFactors.value,r.form.validate().then(function(t){!t.hasError&&r.props.onSave(e)})},r.onSelectProfile=function(){var e=Object(Ze.a)(Ge.a.mark(function e(t){var n,a,o,l,i,s,d,c,p,u,m,f,g,h,y,C,O,v,b,E;return Ge.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.props.advancedProfiles.find(function(e){return e.profileId===t}),e.next=3,r.getProducts(n);case 3:return a=e.sent,e.next=6,r.getOrderTypes(n);case 6:return o=e.sent,e.next=9,r.getZones(n);case 9:return l=e.sent,e.next=12,r.getUrgencies(n);case 12:i=e.sent,s=n.endDate,d=n.startDate,c=n.startOrderQuantity,p=n.startTankPercent,u=n.name,m=n.showReturnedOrders,f=n.showUnGeocodeOrders,g=n.excludeCreditHolds,h=n.showMarkedOrders,y=n.showOpenOrders,C=n.excludeBalances,O=n.endOrderQuantity,v=n.endTankPercent,te.a.locale(r.props.intl?r.props.intl.locale:"en"),b=s&&te()("".concat(s[0],"-").concat(s[1],"-").concat(s[2])).toDate(),E=d&&te()("".concat(d[0],"-").concat(d[1],"-").concat(d[2])).toDate(),r.form.$.endDate.onChange(b),r.form.$.endOrderQuantity.onChange(O),r.form.$.endTankPercent.onChange(v),r.form.$.startDate.onChange(E),r.form.$.startOrderQuantity.onChange(c),r.form.$.startTankPercent.onChange(p),r.form.$.urgencyFactors.onChange(i.idelements),r.form.$.zones.onChange(l.idelements),r.form.$.products.onChange(a.idelements),r.form.$.orderTypes.onChange(o.idelements),r.form.$.name.onChange(u),r.form.$.showReturnedOrders.onChange(m),r.form.$.showUnGeocodeOrders.onChange(f),r.form.$.excludeCreditHolds.onChange(g),r.form.$.showMarkedOrders.onChange(h),r.form.$.showOpenOrders.onChange(y),r.form.$.excludeBalances.onChange(C),r.changeDays(),r.setState(Object(R.a)({},r.state,{endOrderQuantity:O,endTankPercent:v,startTankPercent:p,startOrderQuantity:c,showReturnedOrders:m,showUnGeocodeOrders:f,excludeCreditHolds:g,showMarkedOrders:h,showOpenOrders:y,excludeBalances:C,startDate:E,endDate:b,products:a.elements,orderTypes:o.elements,zones:l.elements,urgencies:i.elements}));case 36:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),r.onAddCancelProfile=function(e){r.form.reset(),r.setState(Object(R.a)({},r.state,{newProfile:e})),e&&r.form.$.profileId.onChange(-1),r.changeDays()},r.getProducts=function(e){var t=[],r=[];return e.products.map(function(e){t.push({label:e.productName,value:e.productId}),r.push(e.productId)}),{elements:t,idelements:r}},r.getOrderTypes=function(e){var t=[],r=[];return e.orderTypes.map(function(e){t.push({label:e.ordTypeName,value:e.orderTypeid}),r.push(e.orderTypeid)}),{elements:t,idelements:r}},r.getZones=function(e){var t=[],r=[];return e.zones.map(function(e){t.push({label:e.zoneName,value:e.zoneId}),r.push(e.zoneId)}),{elements:t,idelements:r}},r.getUrgencies=function(e){var t=[],r=[];return e.urgencyFactors.map(function(e){t.push({label:e.value,value:e.key}),r.push(e.key)}),{elements:t,idelements:r}},r.isOnList=function(e,t){return!!t.find(function(t){return t.value===e.value})},r.updateList=function(e,t){return t.length?e.filter(function(e){return!r.isOnList(e,t)}):e},r.changeDays=function(){var e=te()(r.form.$.startDate.value),t=te()(r.form.$.endDate.value).diff(e,"days"),n=t&&t>0?t:"";r.form.$.days.onChange(n)},r.getProfileInput=function(){var e=r.props,t=e.listProfiles,n=e.isLoading;return r.state.newProfile?d.a.createElement(f.VInputField,{inline:!0,layer:{inputOrientation:"end",inputWidth:10},label:r.props.intl.formatMessage({id:"delivery.order.open.profile"}),id:"idnewprofile",fieldState:r.form.$.name,fill:!0,required:!0}):d.a.createElement(f.VSelectField,{label:r.props.intl.formatMessage({id:"delivery.order.open.profile"}),id:"idselectprofile",inline:!0,required:!0,className:n?p.a.SKELETON:"",onChange:r.onSelectProfile,fieldState:r.form.$.profileId,defaultText:r.props.intl.formatMessage({id:"delivery.order.open.select_profile"}),layer:{inputOrientation:"end",inputWidth:12},fill:!0,options:t})},r.getEditableListInputs=function(){var e=r.props,t=e.productList,n=e.zoneslist,a=e.urgencylist,o=e.typeslist,l=r.state,i=l.urgencies,s=l.products,c=l.zones,p=l.orderTypes;return d.a.createElement(T.a.Consumer,null,function(e){return e&&d.a.createElement(m.Row,null,d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(Xe.a,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.product"}),elementsSelected:s,toolTipAdd:r.props.intl.formatMessage({id:"delivery.order.open.addProduct"}),headerBgColor:e.headers,headerColor:e.sidebar_text,toolTipDel:r.props.intl.formatMessage({id:"delivery.order.open.delProduct"}),listSelectElements:r.updateList(t,s),id:"ideditproduct",onSelect:function(e){r.form.$.products.onChange(e)}})),d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(Xe.a,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.order_type"}),toolTipAdd:r.props.intl.formatMessage({id:"delivery.order.open.add_order_type"}),toolTipDel:r.props.intl.formatMessage({id:"delivery.order.open.del_order_type"}),headerBgColor:e.headers,headerColor:e.sidebar_text,elementsSelected:p,listSelectElements:o,id:"ideditorder",onSelect:function(e){r.form.$.orderTypes.onChange(e)}})),d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(Xe.a,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.route"}),elementsSelected:c,toolTipAdd:r.props.intl.formatMessage({id:"delivery.order.open.add_route"}),toolTipDel:r.props.intl.formatMessage({id:"delivery.order.open.del_route"}),headerBgColor:e.headers,headerColor:e.sidebar_text,listSelectElements:n,id:"ideditrout",onSelect:function(e){r.form.$.zones.onChange(e)}})),d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(Xe.a,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.urgency"}),toolTipAdd:r.props.intl.formatMessage({id:"delivery.order.open.add_urgency"}),headerBgColor:e.headers,headerColor:e.sidebar_text,toolTipDel:r.props.intl.formatMessage({id:"delivery.order.open.del_urgency"}),id:"idediturgency",elementsSelected:i,listSelectElements:a,onSelect:function(e){r.form.$.urgencyFactors.onChange(e)}})))})},r.getTextCheckFields=function(){var e=r.form;return d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(m.Row,null,d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(f.VCardPanel,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.order_qty"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},d.a.createElement(He.i,{id:"quantity>=",inline:!0,fieldState:e.$.startOrderQuantity,label:r.props.intl.formatMessage({id:"delivery.order.open.order_greater_qty"}),layer:He.o}),d.a.createElement(He.i,{id:"quantity<=",inline:!0,fieldState:e.$.endOrderQuantity,label:r.props.intl.formatMessage({id:"delivery.order.open.order_less_qty"}),layer:He.o}))),d.a.createElement(He.f,{xs:12,sm:12,md:6,lg:3},d.a.createElement(f.VCardPanel,{headerText:"Tank Percentaje",bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},d.a.createElement(He.j,{id:"pct>=",inline:!0,fieldState:e.$.startTankPercent,label:"Pct >=",layer:{inputWidth:9}}),d.a.createElement(He.j,{id:"pct<=",inline:!0,fieldState:e.$.endTankPercent,label:"Pct <=",layer:{inputWidth:9}}))),d.a.createElement(He.f,{xs:12,sm:12,lg:6},d.a.createElement(He.l,{headerText:"Open Status",bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF"},d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",label:"Returned Orders Only",inline:!0,checkBoxAtLeft:!0,layer:He.n,fieldState:e.$.showReturnedOrders,id:"1"})),d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:He.n,label:"Marked Orders Only",inline:!0,id:"2",fieldState:e.$.showMarkedOrders}))),d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:He.n,label:"All Open Orders",inline:!0,fieldState:e.$.showOpenOrders,id:"3"})),d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:He.n,label:"Exclude Balances",inline:!0,fieldState:e.$.excludeBalances,id:"4"}))),d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:He.n,label:"Exclude Credit Hold",inline:!0,fieldState:e.$.excludeCreditHolds,id:"5"})),d.a.createElement(m.Col,{xs:6},d.a.createElement(He.k,{alignIndicator:"right",checkBoxAtLeft:!0,layer:He.n,label:"Ungeocoded Only",inline:!0,fieldState:e.$.showUnGeocodeOrders,id:"6"}))))))})},r.getDateInputFields=function(){return d.a.createElement(He.e,{xs:12,lg:10},d.a.createElement(He.d,{dateType:"DATE",layer:{inputWidth:6},id:"iddialstartorderdate",label:"Start Order Date",onChange:r.changeDays,inline:!0,fieldState:r.form.$.startDate}),d.a.createElement(He.d,{dateType:"DATE",layer:{inputWidth:6},inline:!0,onChange:r.changeDays,id:"iddialendorderdate",label:"End Order Date",fieldState:r.form.$.endDate}),d.a.createElement(He.g,{layer:{inputWidth:4},inline:!0,type:"text",disabled:!0,id:"iddays",label:"Days",fieldState:r.form.$.days}))},r.initForm(),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement("div",{style:{width:"100%",padding:"0 20px"}},d.a.createElement(He.c,null,d.a.createElement(He.f,null,d.a.createElement("div",{style:{width:210}},this.getProfileInput())),this.state.newProfile?d.a.createElement(N.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:this.props.intl.formatMessage({id:"commons.cancel"})},d.a.createElement(He.a,{icon:"disable",onClick:function(){return e.onAddCancelProfile(!1)}})):d.a.createElement(N.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:this.props.intl.formatMessage({id:"delivery.order.open.add_profile"})},d.a.createElement(He.a,{icon:"plus",onClick:function(){return e.onAddCancelProfile(!0)}}))),this.getEditableListInputs(),this.getTextCheckFields(),d.a.createElement(m.Row,null,this.getDateInputFields()),d.a.createElement(He.b,null,d.a.createElement(m.Col,null,d.a.createElement(u.b,{icon:"saved",text:"Save",large:!0,onClick:this.onSubmit}))))}}]),t}(s.Component))||de),tt=Object(y.d)(et),rt=Object(c.inject)("order_management_store")(ce=Object(c.observer)(ce=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={open:!1},r.changeOpen=function(){r.setState({open:!r.state.open})},r.handleSaveFilters=function(e){e.profileId&&-1!==e.profileId?r.props.order_management_store.updateProfile(e):(e.profileId=null,r.props.order_management_store.saveProfile(e)),r.changeOpen()},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this,t=this.props.order_management_store,r=t.listZone,n=t.listUrgency,a=t.listTypes,o=t.listProducts,l=t.isLoading,i=t.listProfiles,s=t.advancedProfiles;return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.b,{style:_,icon:"filter",onClick:this.changeOpen},this.props.intl.formatMessage({id:"delivery.order.open.btn_filter"})),d.a.createElement(Ee.a,{isOpen:this.state.open,canOutsideClickClose:!1,usePortal:!0,onClose:this.changeOpen,style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.titleFilter"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:e.changeOpen})},d.a.createElement(f.VSuspenseLoading,null,d.a.createElement(tt,{onSave:e.handleSaveFilters,productList:o,zoneslist:r,isLoading:l,typeslist:a,listProfiles:i,advancedProfiles:s,urgencylist:n})))})))}}]),t}(s.Component))||ce)||ce,nt=Object(y.d)(rt);function at(){var e=Object(h.a)(["\n  svg {\n    fill: #fff !important;\n  }\n"]);return at=function(){return e},e}var ot,lt,it,st=Object(C.a)(u.a)(at()),dt=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.intl;return d.a.createElement(Ct.Consumer,null,function(t){return d.a.createElement(m.Row,{end:"xs"},d.a.createElement(m.Col,{xs:6},d.a.createElement(N.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:e.formatMessage({id:"commons.search",defaultMessage:"Search"})},d.a.createElement(st,{onClick:t.onSearchAcc,icon:"search",fill:!0,minimal:!0,disabled:t.loadingAccount}))),d.a.createElement(m.Col,{xs:6},d.a.createElement(N.a,{usePortal:!0,hoverCloseDelay:0,position:"bottom",content:e.formatMessage({id:"commons.clear",defaultMessage:"Clear"})},d.a.createElement(st,{onClick:t.onClearSearchAcc,icon:"eraser",fill:!0,minimal:!0,disabled:t.loadingAccount}))))})}}]),t}(s.Component),ct=Object(y.d)(dt),pt=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.intl,r=e.form,n=e.states,a=e.products,o={labelWidth:4,inputWidth:8,labelOrientation:"end",inputOrientation:"start"};return d.a.createElement(T.a.Consumer,null,function(e){return e&&d.a.createElement(f.VCardPanel,{headerText:t.formatMessage({id:"delivery.order.open.searchCriteria"}),bodyPadding:"5px",height:"315px",headerBackgroundColor:e.headers,headerColor:"#FFFFFF",headerCustomComponent:d.a.createElement(ct,null)},d.a.createElement(f.VInputField,{id:"account",fieldState:r.$.accountId,fill:!0,inline:!0,layer:o,label:"Account Id"}),d.a.createElement(f.VInputField,{id:"name",fieldState:r.$.name,fill:!0,inline:!0,layer:o,label:"Name"}),d.a.createElement(f.VSelectField,{label:"Product:",id:"products",inline:!0,fieldState:r.$.productId,layer:o,fill:!0,options:a}),d.a.createElement(f.VInputField,{id:"city",fieldState:r.$.city,fill:!0,inline:!0,layer:o,label:"City"}),d.a.createElement(f.VSelectField,{label:"State/Prov:",id:"stateProv",inline:!0,fieldState:r.$.stateProv,layer:o,fill:!0,options:n}))})}}]),t}(s.Component),ut=Object(y.d)(pt),mt=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"onPageChg",value:function(e){this.props.onPageChange(e,"accounts")}},{key:"render",value:function(){var e=this,t=this.getNameHeader(this.props.numberAccount);return d.a.createElement(T.a.Consumer,null,function(r){return r&&d.a.createElement(d.a.Fragment,null,d.a.createElement(f.VCardPanel,{headerText:t,bodyPadding:"0px",headerHorizontalAlign:"center",height:"375px",headerBackgroundColor:r.headers,headerColor:"#FFFFFF"},e.props.isLoading?d.a.createElement(f.VSpinner,null):d.a.createElement(f.VTable,{tableHeight:"300px",columns:e.props.columns,cellSelectionType:"ENTIRE_ROW",onOrderColumns:e.props.onOrderColumns,actionsSelection:{onSelectionChange:e.props.onSelectAcct},columns_name:{accountId:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.account"})),name:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.name"})),fullAddress:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.address"})),city:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.city"})),state:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.state_prov"})),productName:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.product"})),tanksize:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.tank"}))},data:e.props.data,reordering:!0,footer:d.a.createElement(ye.a,{currentPage:e.props.page,onPageChanged:e.onPageChg.bind(e),pageLimit:e.props.pageSize,totalRecords:e.props.numberAccount})})),d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:12},d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",margin:"10px 0px"}},d.a.createElement(u.b,{icon:"tick",text:"Create Order",onClick:e.props.onCreateOrder,disabled:e.props.disableBtn})))))})}},{key:"getNameHeader",value:function(e){return"".concat(this.props.intl.formatMessage({id:"delivery.order.open.search_results"})," (").concat(e,")")}}]),t}(s.Component),ft=Object(y.d)(mt),gt=k.a.Consumer,ht=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(i.a)(t,e),Object(a.a)(t,[{key:"onPageChg",value:function(e){this.props.onPageChange(e,"history")}},{key:"render",value:function(){var e=this,t=this.props,r=t.data,n=t.isLoading;return d.a.createElement(Ot.Consumer,null,function(t){return d.a.createElement(T.a.Consumer,null,function(a){return a&&d.a.createElement(gt,null,function(o){return o&&d.a.createElement(f.VCardPanel,{headerBackgroundColor:a.headers,headerColor:"#FFFFFF",headerText:e.getNameHeader(0),bodyPadding:"0px",headerHorizontalAlign:"center"},n?d.a.createElement(f.VSpinner,null):d.a.createElement(f.VTable,{columns:["orderDate","type","orderStatus","qty","name","truck","lastDate","lastDelQty","img"],cellSelectionType:"ENTIRE_ROW",columns_name:{orderdate:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_date"})),type:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_type"})),orderStatus:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_status"})),qty:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.order_qty"})),truck:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.truck"})),lastDate:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.del_date"})),lastDelQty:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.del_qty"})),img:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.img"})),name:Object(w.upperCase)(e.props.intl.formatMessage({id:"delivery.order.open.driver"}))},data:r,widgetsCell:[{column:"type",widget:{type:"CUSTOMERCOMPONENT",cusmtomerCell:{renderCustomer:o.renderCustomerType}}}],reordering:!0,footer:d.a.createElement(ye.a,{currentPage:e.props.page,onPageChanged:e.onPageChg.bind(e),pageLimit:e.props.pageSize,totalRecords:e.props.total})}),d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:12},d.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"10px 0px"}},d.a.createElement(u.b,{icon:"disable",text:e.getCancelAndCloseTextFormated(),onClick:t.onCancelOrder})))))})})})}},{key:"getCancelAndCloseTextFormated",value:function(){return"".concat(this.props.intl.formatMessage({id:"app.cancel"})," /").concat(this.props.intl.formatMessage({id:"app.close"})," ")}},{key:"getNameHeader",value:function(e){return"".concat(this.props.intl.formatMessage({id:"delivery.order.open.order_history"})," (").concat(e,")")}}]),t}(s.Component),yt=Object(y.d)(ht),Ct=d.a.createContext({onSearchAcc:function(){},onClearSearchAcc:function(){},loadingAccount:!1}),Ot=d.a.createContext({onCancelOrder:function(){}}),vt=Object(c.inject)("order_management_store","accounts_orders_store","history_orders_store","orders_store")(ot=Object(c.observer)(ot=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.onSearchAccount=function(){var e=r.props.accounts_orders_store;r.form.$.accountId.value&&e.addFilter({field:"accountId",value:r.form.$.accountId.value,operator:"LIKE"}),r.form.$.productId.value&&e.addFilter({field:"productId",value:r.form.$.productId.value,operator:"EQUALITY"}),r.form.$.city.value&&e.addFilter({field:"city",value:r.form.$.city.value,operator:"LIKE"}),r.form.$.stateProv.value&&e.addFilter({field:"stateId",value:r.form.$.stateProv.value,operator:"EQUALITY"}),r.form.$.name.value&&e.addFilter({field:"name",value:r.form.$.name.value,operator:"LIKE"}),r.props.accounts_orders_store.getElements()},r.onEraserSearch=function(){var e=r.props.accounts_orders_store;e.removeFilter({field:"accountId",value:r.form.$.accountId.value,operator:"LIKE"}),e.removeFilter({field:"productId",value:r.form.$.productId.value,operator:"EQUALITY"}),e.removeFilter({field:"city",value:r.form.$.city.value,operator:"LIKE"}),e.removeFilter({field:"stateId",value:r.form.$.stateProv.value,operator:"EQUALITY"}),r.form.reset(),r.props.accounts_orders_store.getElements()},r.onSelectAcct=function(e){var t=r.props,n=t.accounts_orders_store,a=t.history_orders_store;n.setElement(e),a.addFilter({field:"acctId",value:e.acctId,operator:"EQUALITY"}),a.getElements()},r.handleSaveDetails=function(){r.props.accounts_orders_store.setOpenDetails(!1),r.props.onSaveOrder()},r.onCreateOrder=function(){r.props.accounts_orders_store.setOpenDetails(!0)},r.onReorderAcc=function(e){r.props.accounts_orders_store.setColumnsAcc(e)},r.getOrderDetailsComponent=function(){var e=r.props.accounts_orders_store;return d.a.createElement(Ee.a,{isOpen:!0,canOutsideClickClose:!1,onClose:function(){return e.setOpenDetails(!1)},style:{width:"85%",paddingBottom:"0"},canEscapeKeyClose:!1},d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(f.VCardPanel,{headerText:r.props.intl.formatMessage({id:"delivery.order.open.titleDetails"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:r.onCloseDetails.bind(Object($.a)(r))})},d.a.createElement(he,{orderDetails:e.element,onSave:r.handleSaveDetails,onCancel:function(){return e.setOpenDetails(!1)},nofees:0}))}))},r.form=new g.FormState({accountId:new g.FieldState(""),name:new g.FieldState(""),productId:new g.FieldState(""),city:new g.FieldState(""),stateProv:new g.FieldState("")}),r.props.accounts_orders_store.getElements(),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.accounts_orders_store.resetElement(),this.props.history_orders_store.removeFilter({field:"acctId",value:"",operator:"EQUALITY"})}},{key:"onCloseDetails",value:function(){this.props.accounts_orders_store.setOpenDetails(!1)}},{key:"onPageChange",value:function(e,t){var r="accounts"===t?this.props.accounts_orders_store:this.props.history_orders_store;e.paginationData.currentPage===r.page&&e.pageLimit===r.size||(r.setSize(e.pageLimit),e.paginationData.currentPage>0&&r.setPage(e.paginationData.currentPage))}},{key:"render",value:function(){var e=this.props,t=e.order_management_store,r=e.accounts_orders_store,n=t,a=n.listStates,o=n.listProducts,l=r,i=l.elements,s=l.isLoading,c=l.count,p=l.element,u=l.openDetails,f=l.size,g=l.page;return d.a.createElement(d.a.Fragment,null,d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:12,lg:3},d.a.createElement(Ct.Provider,{value:{onSearchAcc:this.onSearchAccount,onClearSearchAcc:this.onEraserSearch,loadingAccount:s}},d.a.createElement(ut,{form:this.form,products:o,states:a}))),d.a.createElement(m.Col,{xs:12,lg:9},d.a.createElement(ft,{pageSize:f,page:g,onPageChange:this.onPageChange.bind(this),data:i,columns:r.columnsAcc,onSelectAcct:this.onSelectAcct,onOrderColumns:this.onReorderAcc,onCreateOrder:this.onCreateOrder,disableBtn:!(p&&p.acctId),isLoading:s,numberAccount:c}))),d.a.createElement("br",null),d.a.createElement(m.Row,null,d.a.createElement(m.Col,{xs:12},d.a.createElement(Ot.Provider,{value:{onCancelOrder:this.props.onClose}},d.a.createElement(yt,{onPageChange:this.onPageChange.bind(this),total:this.props.history_orders_store.count,page:this.props.history_orders_store.page,pageSize:this.props.history_orders_store.size,isLoading:this.props.history_orders_store.isLoading,data:this.props.history_orders_store.elements}))),u&&this.getOrderDetailsComponent()))}}]),t}(s.Component))||ot)||ot,bt=Object(y.d)(vt),Et=k.a.Consumer,Ft=Object(c.inject)("order_management_store")(lt=Object(c.observer)(lt=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={open:!1},r.changeOpen=function(){r.setState({open:!r.state.open})},r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this;return d.a.createElement(d.a.Fragment,null,d.a.createElement(u.b,{icon:"plus",onClick:this.changeOpen,style:_},this.props.intl.formatMessage({id:"delivery.order.open.btn_create"})),d.a.createElement(Ee.a,{isOpen:this.state.open,onClose:this.changeOpen,style:{width:"85%"},canOutsideClickClose:!1,canEscapeKeyClose:!1},d.a.createElement(T.a.Consumer,null,function(t){return t&&d.a.createElement(f.VCardPanel,{headerText:e.props.intl.formatMessage({id:"delivery.order.open.searchCriteria"}),bodyPadding:"1px",headerBackgroundColor:t.headers,headerColor:"#FFFFFF",headerTextJustify:"center",headerCustomComponent:d.a.createElement(be.a,{action:e.changeOpen})},d.a.createElement("div",{className:p.a.DIALOG_BODY},d.a.createElement(Et,null,function(t){return t&&d.a.createElement(bt,{onSaveOrder:function(){t.handleOnSaveOrders()},onClose:e.changeOpen})})))})))}}]),t}(s.Component))||lt)||lt,St=Object(y.d)(Ft),_t=k.a.Consumer,jt=Object(c.inject)("order_management_store","orders_store")(it=Object(c.observer)(it=function(e){function t(e){var r;return Object(n.a)(this,t),(r=Object(o.a)(this,Object(l.a)(t).call(this,e))).form=void 0,r.initForm=function(){var e=r.props.order_management_store,t=e.search,n=e.profileActive;r.form=new g.FormState({select_profile:new g.FieldState(n),chkAllOrder:new g.FieldState(""),chkUngeocodedOnly:new g.FieldState(""),fSearch:new g.FieldState(t),startOrderDate:new g.FieldState(""),endOrderDate:new g.FieldState(""),days:new g.FieldState("")})},r.changeFilter=function(e){r.props.orders_store.changeFilterByUrgency(e)},r.raiseDoSearchWhenUserStoppedTyping=Object(w.debounce)(function(e){e(r.form.$.fSearch.value)},1800),r.initForm(),r}return Object(i.a)(t,e),Object(a.a)(t,[{key:"componentWillUnmount",value:function(){this.props.order_management_store.setOrderDetails({})}},{key:"render",value:function(){var e=this,t=this.props,r=t.order_management_store,n=t.orders_store,a=t.intl,o=r,l=o.isLoading,i=o.listProfiles,s=n,c=s.activeList,g=s.filterByUrgency,h=s.searchDays;return d.a.createElement(_t,null,function(t){return t&&d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{style:{padding:5}},d.a.createElement(m.Row,null,d.a.createElement(m.Col,{lg:9,style:{marginBottom:5}},d.a.createElement(A,{onChangeFilter:e.changeFilter,selType:t.isOrdersLoading?"DISABLED":"CELL"})),d.a.createElement(m.Col,{lg:3,style:{display:"flex",flexDirection:"column",alignItems:"flex-end"}},d.a.createElement("div",{style:{width:210}},d.a.createElement(f.VInputField,{onChange:function(r){e.form.$.fSearch.onChange(r),e.raiseDoSearchWhenUserStoppedTyping(t.setSearchList)},fill:!0,id:"idsearchorder",fieldState:e.form.$.fSearch,placeholder:a.formatMessage({id:"delivery.order.review.ticketSearch"}),type:"search",leftIcon:"search"})),d.a.createElement("div",{style:{width:250,display:"flex",justifyContent:"flex-end"}},d.a.createElement("div",{style:{width:175,height:35}},d.a.createElement(f.VSelectField,{id:"idselectprofile",className:l?p.a.SKELETON:"",fieldState:e.form.$.select_profile,defaultText:a.formatMessage({id:"delivery.order.open.select_profile"}),layer:{inputOrientation:"end"},disabled:t.isOrdersLoading,onChange:t.selectProfile,fill:!0,options:i})),d.a.createElement(He.a,{icon:"filter-remove",disabled:t.isOrdersLoading,onClick:function(){e.form.$.select_profile.onChange(""),t.clearProfile()}})),d.a.createElement(nt,null),d.a.createElement(u.b,{icon:"search",style:_,disabled:!0},a.formatMessage({id:"delivery.order.open.btn_analyze"})),d.a.createElement(St,null)))),d.a.createElement("div",{style:{padding:5}},d.a.createElement(qe,{total:t.totalOrders,activeList:c,filterByUrgency:g,searchDays:h})),d.a.createElement(m.Row,{style:{marginTop:7}},d.a.createElement(Je,{isLoading:t.isOrdersLoading,searchDays:t.searchDays})))})}}]),t}(s.Component))||it)||it;t.default=Object(y.d)(jt)}}]);
//# sourceMappingURL=2.183a205d.chunk.js.map